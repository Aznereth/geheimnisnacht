wh_heal_sick_effect = {
	remove_trait = lovers_pox
	remove_trait = has_nurgles_rot
	remove_trait = has_creeping_buboes
	remove_trait = has_measles
	remove_trait = has_typhus
	remove_trait = pneumonic
	remove_trait = has_tomb_rot
	remove_trait = has_bone_auge
	remove_trait = flu
	remove_trait = dysentery
	remove_trait = gout
	remove_trait = food_poisoning
	remove_trait = rabies
	remove_trait = cancer
	remove_trait = scurvy
}

wh_heal_injury_effect = {
	remove_trait = incapable
	remove_trait = infirm
	remove_trait = wounded
	remove_trait = maimed
	remove_trait = blinded
	remove_trait = eunuch
	remove_trait = disfigured
	remove_trait = fat
	remove_trait = undernourished
	remove_trait = one_eyed
	remove_trait = one_handed
	remove_trait = one_legged
	remove_trait = mangled
	remove_trait = severely_injured
}

DR_generate_male_child_effect = {
	if = {
		limit = {
			NOT = {
				num_of_children = 2
			}
		}
		if = {
			limit = {
				NOT = {
					age = 22
				}
				age = 17
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 1
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 2
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 3
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If younger than 26, but older than 21
				NOT = {
					age = 26
				}
				age = 22
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 4
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 5
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 6
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If younger than 29, but older than 25
				NOT = {
					age = 29
				}
				age = 26
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 7
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 8
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 9
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If younger than 32, but older than 28
				NOT = {
					age = 32
				}
				age = 29
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 10
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 11
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 12
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If younger than 35, but older than 31
				NOT = {
					age = 35
				}
				age = 32
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 13
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 14
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 15
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If younger than 38, but older than 34
				NOT = {
					age = 38
				}
				age = 35
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 19
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 20
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 21
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 38
				NOT = {
					age = 48
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 25
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 26
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 27
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 38
				NOT = {
					age = 48
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 25
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 26
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 27
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 48
				NOT = {
					age = 58
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 35
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 36
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 37
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 58
				NOT = {
					age = 68
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 45
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 46
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 47
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 68
				NOT = {
					age = 78
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 55
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 56
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 57
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 78
				NOT = {
					age = 88
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 65
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 66
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 67
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 88
				NOT = {
					age = 98
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 75
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 76
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 77
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 98
				NOT = {
					age = 108
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 85
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 86
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 87
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 100
				NOT = {
					age = 150
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 115
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 112
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 113
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 150
				NOT = {
					age = 200
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 125
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 122
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 123
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 200
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 155
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 152
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 153
						female = no
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		new_character = {
			if = {
				limit = {
					ROOT = {
						is_female = no
					}
				}
				set_father = ROOT
			}
			if = {
				limit = {
					ROOT = {
						is_female = yes
					}
				}
				set_mother = ROOT
			}
			ROOT = {
				random_spouse = {
					limit = {
						age_diff = {
							who = PREVPREV years = 16
						}
					}
					if = {
						limit = {
							is_female = no
						}
						new_character = {
							set_father = PREV
						}
					}
					if = {
						limit = {
							is_female = yes
						}
						new_character = {
							set_mother = PREV
						}
					}
				}
			}
			if = {
				limit = {
					#Humans
					NOT = {
						AND = {
							is_female = yes
							culture_group = amazon_group
						}
					}
					OR = {
						graphical_culture = westerngfx
						graphical_culture = easterngfx
						graphical_culture = muslimgfx
						graphical_culture = frankishgfx
						graphical_culture = englishgfx
						graphical_culture = germangfx
						graphical_culture = occitangfx
						graphical_culture = southerngfx
						graphical_culture = celticgfx
						graphical_culture = norsegfx
						graphical_culture = saxongfx
						graphical_culture = normangfx
						graphical_culture = easternslavicgfx
						graphical_culture = westernslavicgfx
						graphical_culture = byzantinegfx
						graphical_culture = ugricgfx
						graphical_culture = arabicgfx
						graphical_culture = turkishgfx
						graphical_culture = mongolgfx
						graphical_culture = africangfx
						graphical_culture = westafricangfx
						graphical_culture = andalusiangfx
						graphical_culture = persiangfx
						graphical_culture = empiregfx
						graphical_culture = sylvaniangfx
						graphical_culture = kurgangfx
						graphical_culture = arabyangfx
						graphical_culture = northempiregfx
						graphical_culture = tileagfx
						graphical_culture = estileangfx
						graphical_culture = hunggfx
						graphical_culture = southarabyangfx
						graphical_culture = northmangfx
						graphical_culture = nehekkagfx
						graphical_culture = sartosantileangfx
						graphical_culture = cumangfx
						graphical_culture = livinglahmiangfx
						graphical_culture = italiangfx
						graphical_culture = reiklandergfx
						graphical_culture = witchhuntergfx
						graphical_culture = blooddragonsgfx
						graphical_culture = striganygfx
						graphical_culture = sartosangfx
						graphical_culture = strygangfx
						graphical_culture = amazongfx
						graphical_culture = cathayangfx
						graphical_culture = livingjadegfx
						graphical_culture = wasaigfx
						graphical_culture = cophicgfx
						graphical_culture = tevarigfx
						graphical_culture = medeangfx
						graphical_culture = arabyansartosangfx
						graphical_culture = norscangfx
						graphical_culture = norscansartosangfx
						graphical_culture = kislevitegfx
						graphical_culture = ropsmanngfx
						graphical_culture = tileangfx
						graphical_culture = estaliangfx
						graphical_culture = mykengfx
						AND = {
							is_female = no
							culture_group = amazon_group
						}
					}
					NOT = {
						trait = creature_human
					}
					NOT = {
						trait = creature_amazon
					}
					NOT = {
						trait = creature_monster
					}
					NOT = {
						trait = creature_celdragon
					}
				}
				add_trait = creature_human
			}
			#Witch Hunter Check
			if = {
				limit = {
					culture = witchhunter_culture
					NOT = {
						trait = witch_hunter
					}
				}
				add_trait = witch_hunter
			}
			# #Blood Dragon Culture Check
			# if = { limit = { culture = blooddragons_culture
			# NOR = { trait = vampire_blood_visible
			# trait = vampire_blood_hidden } }
			# set_graphical_culture = generic_vampire
			# add_trait = vampire_blood_visible }
			if = {
				limit = {
					liege = {
						trait = creature_amazon
					}
				}
				add_trait = disinherited_amazon
			}
			if = {
				#Amazons
				limit = {
					OR = {
						graphical_culture = westerngfx
						graphical_culture = easterngfx
						graphical_culture = muslimgfx
						graphical_culture = frankishgfx
						graphical_culture = englishgfx
						graphical_culture = germangfx
						graphical_culture = occitangfx
						graphical_culture = southerngfx
						graphical_culture = celticgfx
						graphical_culture = norsegfx
						graphical_culture = saxongfx
						graphical_culture = normangfx
						graphical_culture = easternslavicgfx
						graphical_culture = westernslavicgfx
						graphical_culture = byzantinegfx
						graphical_culture = ugricgfx
						graphical_culture = arabicgfx
						graphical_culture = turkishgfx
						graphical_culture = mongolgfx
						graphical_culture = africangfx
						graphical_culture = westafricangfx
						graphical_culture = andalusiangfx
						graphical_culture = persiangfx
						graphical_culture = empiregfx
						graphical_culture = sylvaniangfx
						graphical_culture = kurgangfx
						graphical_culture = arabyangfx
						graphical_culture = northempiregfx
						graphical_culture = tileagfx
						graphical_culture = estileangfx
						graphical_culture = hunggfx
						graphical_culture = southarabyangfx
						graphical_culture = northmangfx
						graphical_culture = sartosantileangfx
						graphical_culture = bretonniangfx
						graphical_culture = nehekkagfx
						graphical_culture = cumangfx
						graphical_culture = livinglahmiangfx
						graphical_culture = italiangfx
						graphical_culture = reiklandergfx
						graphical_culture = witchhuntergfx
						graphical_culture = blooddragonsgfx
						graphical_culture = striganygfx
						graphical_culture = sartosangfx
						graphical_culture = strygangfx
						graphical_culture = amazongfx
						graphical_culture = cathayangfx
						graphical_culture = livingjadegfx
						graphical_culture = wasaigfx
						graphical_culture = cophicgfx
						graphical_culture = tevarigfx
						graphical_culture = medeangfx
						graphical_culture = arabyansartosangfx
						graphical_culture = norscangfx
						graphical_culture = norscansartosangfx
						graphical_culture = kislevitegfx
						graphical_culture = ropsmanngfx
						graphical_culture = tileangfx
						graphical_culture = estaliangfx
						graphical_culture = mykengfx
					}
					is_female = yes
					culture_group = amazon_group
					NOT = {
						trait = creature_amazon
					}
					NOT = {
						trait = creature_human
					}
					NOT = {
						trait = creature_monster
					}
					NOT = {
						trait = creature_celdragon
					}
				}
				add_trait = creature_amazon
			}
			if = {
				#Elfs
				limit = {
					OR = {
						graphical_culture = asurgfx
						graphical_culture = caledoriangfx
						graphical_culture = nagarythiangfx
						graphical_culture = asraigfx
						graphical_culture = druchiigfx
					}
					NOT = {
						trait = creature_elf
					}
					NOT = {
						trait = creature_treekin
					}
				}
				add_trait = creature_elf
			}
			if = {
				#Dwarfs
				limit = {
					OR = {
						graphical_culture = dwarfgfx
						graphical_culture = imperialdwarfgfx
						graphical_culture = olddwarfgfx
					}
					NOT = {
						trait = creature_dwarf
					}
				}
				add_trait = creature_dwarf
			}
			if = {
				#Dwarfs under the age of 75 are beardlings
				limit = {
					culture_group = dwarf_group
					NOT = {
						trait = beardling
						age = 75
					}
				}
				add_trait = beardling
			}
			if = {
				#Some dwarfs become warriors
				limit = {
					culture_group = dwarf_group
					age = 75
					is_female = no
					NOT = {
						trait = thunderer
						trait = quarreller
						trait = dwarf_warrior
						trait = hammerer
						trait = ironbreaker
						trait = longbeard
						has_character_flag = dwarf_did_not_become_warrior
						has_character_flag = becoming_thunderer
						has_character_flag = becoming_quarreller
						has_character_flag = becoming_dwarf_warrior
					}
				}
				random_list = {
					15 = {
						modifier = {
							factor = 4
							martial = 10
							NOT = {
								trait = craven
							}
						}
						add_trait = dwarf_warrior
					}
					5 = {
						modifier = {
							factor = 4
							martial = 10
							NOT = {
								trait = craven
							}
						}
						add_trait = quarreller
					}
					5 = {
						modifier = {
							factor = 4
							martial = 10
							NOT = {
								trait = craven
							}
						}
						add_trait = thunderer
					}
					75 = {
						modifier = {
							factor = 0
							martial = 10
							NOT = {
								trait = craven
							}
						}
						set_character_flag = dwarf_did_not_become_warrior
					}
				}
			}
			if = {
				#Chaos Dwarfs
				limit = {
					OR = {
						graphical_culture = chaosdwarfgfx
						graphical_culture = oldchaosdwarfgfx
					}
					NOT = {
						trait = creature_chaos_dwarf
					}
				}
				add_trait = creature_chaos_dwarf
			}
			if = {
				#Halflings
				limit = {
					OR = {
						graphical_culture = hobbitsgfx
						graphical_culture = miyangfx
					}
					NOT = {
						trait = creature_halfling
					}
				}
				add_trait = creature_halfling
			}
			if = {
				#Orcs
				limit = {
					graphical_culture = orcgfx
					is_female = no
					NOT = {
						trait = creature_orc
					}
				}
				add_trait = creature_orc
				random_list = {
					35 = {
						add_trait = orc_small
					}
					45 = {
						add_trait = orc_average
					}
					15 = {
						add_trait = orc_large
					}
					5 = {
						add_trait = orc_huge
					}
				}
				random_list = {
					50 = {
						add_trait = greenskin_gods_gork
					}
					50 = {
						add_trait = greenskin_gods_mork
					}
				}
			}
			if = {
				#Goblins
				limit = {
					graphical_culture = goblingfx
					is_female = no
					NOT = {
						trait = creature_goblin
					}
				}
				add_trait = creature_goblin
				random_list = {
					45 = {
						add_trait = goblin_small
					}
					40 = {
						add_trait = goblin_average
					}
					10 = {
						add_trait = goblin_large
					}
					5 = {
						add_trait = goblin_huge
					}
				}
				if = {
					limit = {
						religion = greenskin_gods
					}
					random_list = {
						50 = {
							add_trait = greenskin_gods_gork
						}
						50 = {
							add_trait = greenskin_gods_mork
						}
					}
				}
			}
			if = {
				#Snotlings
				limit = {
					OR = {
						graphical_culture = goblingfx
						graphical_culture = orcgfx
					}
					is_female = yes
					NOT = {
						trait = creature_snotling
					}
				}
				add_trait = creature_snotling
			}
			#Greenskin Shamans
			if = {
				limit = {
					is_female = no
					OR = {
						AND = {
							graphical_culture = orcgfx
							trait = creature_orc
						}
						AND = {
							graphical_culture = goblingfx
							trait = creature_goblin
						}
					}
				}
				if = {
					limit = {
						is_theocracy = yes
					}
					add_trait = lore_waaagh
					add_character_modifier = {
						name = magic_power_1 duration = -1
					}
				}
			}
			if = {
				#Nehekharans
				limit = {
					graphical_culture = nehekharangfx
					NOT = {
						trait = creature_nehekharan
					}
				}
				add_trait = creature_nehekharan
			}
			if = {
				limit = {
					is_landed = yes
					ruled_years = 2
					is_feudal = yes
					graphical_culture = nehekharangfx
					NOR = {
						trait = khemri_tomb_king
						trait = khemri_soldier
						trait = khemri_liche_priest
					}

				}
				add_trait = khemri_tomb_king
				set_government_type = nehekharan_government
				break = yes
			}
			if = {
				limit = {
					graphical_culture = nehekharangfx
					NOR = {
						trait = khemri_tomb_king
						trait = khemri_soldier
						trait = khemri_liche_priest
					}
					OR = {
						is_landed = no
						NOT = {
							is_theocracy = yes
						}
						NOT = {
							ruled_years = 2
						}
					}
					NAND = {
						is_female = no
						OR = {
							trait = detached_priest
							trait = martial_cleric
							trait = scholarly_theologian
							trait = mastermind_theologian
						}
					}
				}
				add_trait = khemri_soldier
				liege = {
					ROOT = {
						abdicate_to = PREV
					}
				}
				set_government_type = nehekharan_government
				any_spouse = {
					remove_spouse = ROOT
				}
				break = yes
			} #closesif
			if = {
				limit = {
					is_female = no
					graphical_culture = nehekharangfx
					NOR = {
						trait = khemri_tomb_king
						trait = khemri_soldier
						trait = khemri_liche_priest
					}
					OR = {
						is_theocracy = yes
						AND = {
							is_landed = no
							trait = detached_priest
						}
						AND = {
							is_landed = no
							trait = martial_cleric
						}
						AND = {
							is_landed = no
							trait = scholarly_theologian
						}
						AND = {
							is_landed = no
							trait = mastermind_theologian
						}
					}
				}
				add_trait = khemri_liche_priest
				set_government_type = theocracy_government
				add_character_modifier = {
					name = magic_power_2 duration = -1
				}
			} #closesif
			if = {
				#Skink Lizardmen
				limit = {
					graphical_culture = lizardmangfx
					NOR = {
						trait = creature_skink
						trait = creature_slann
						trait = creature_saurus
					}
				}
      			if = {
					limit = {
						is_female = no
					}
					add_trait = creature_skink
				}
			    if = {
					limit = {
						is_female = yes
					}
					add_trait = creature_saurus
				}
			}
			if = {
				#Skaven
				limit = {
					culture_group = skaven_group
					NOT = {
						trait = creature_skaven
					}
				}
				add_trait = creature_skaven
				if = {
					limit = {
						is_female = yes
					}
					add_trait = skaven_breeder
				}
				if = {
					limit = {
						graphical_culture = skavenwhitegfx
						is_female = no
						age = 16
					}
					add_trait = grey_seer
				}
				if = {
					limit = {
						graphical_culture = skavenwhitegfx
					}
					add_trait = white_skaven
					break = yes
				}
				if = {
					limit = {
						graphical_culture = skavenblackgfx
					}
					add_trait = black_skaven
					break = yes
				}
			}
			if = {
				#Forest spirits
				limit = {
					graphical_culture = treemangfx
					NOT = {
						trait = creature_treekin
					}
					NOT = {
						trait = creature_forestspirit
					}
				}
				add_trait = creature_forestspirit
			}
			if = {
				#Beastman
				limit = {
					OR = {
						graphical_culture = beastmangfx
					}
				}
				add_trait = creature_beastman
				if = {
					limit = {
						is_female = no
						NOT = {
							trait = horns_none
						}
						NOT = {
							trait = horns_small
						}
						NOT = {
							trait = horns_average
						}
						NOT = {
							trait = horns_big
						}
					}
					random_list = {
						10 = {
							add_trait = horns_none
						}
						40 = {
							add_trait = horns_small
						}
						45 = {
							add_trait = horns_average
						}
						5 = {
							add_trait = horns_big
						}
					}
				}
			}
			if = {
				#Ogre
				limit = {
					graphical_culture = ogresgfx
					NOT = {
						trait = creature_ogre
					}
				}
				add_trait = creature_ogre
			}
			if = {
				#Chaos Spawn
				limit = {
					graphical_culture = chaosspawngfx
					NOT = {
						trait = creature_chaosspawn
					}
				}
				add_trait = creature_chaosspawn
			}
			if = {
				#Daemonette
				limit = {
					graphical_culture = daemonettegfx
					NOT = {
						trait = slaanesh_demon
					}
					NOT = {
						trait = slaanesh_daemonette
					}
				}
				add_trait = slaanesh_demon
				add_trait = slaanesh_daemonette
			}
			if = {
				#Bloodletter
				limit = {
					graphical_culture = bloodlettergfx
					NOT = {
						trait = khorne_demon
					}
					NOT = {
						trait = khorne_bloodletter
					}
				}
				add_trait = khorne_demon
				add_trait = khorne_bloodletter
			}
			if = {
				#Plaguebearer
				limit = {
					graphical_culture = plaguebearergfx
					NOT = {
						trait = nurgle_demon
					}
					NOT = {
						trait = nurgle_plaguebearer
					}
				}
				add_trait = nurgle_demon
				add_trait = nurgle_plaguebearer
			}
			if = {
				#Flamer
				limit = {
					graphical_culture = flamergfx
					NOT = {
						trait = tzeentch_demon
					}
					NOT = {
						trait = tzeentch_flamer
					}
				}
				add_trait = tzeentch_demon
				add_trait = tzeentch_flamer
			}
			if = {
				#Von Carstein vampire
				limit = {
					OR = {
						graphical_culture = carsteingfx
						graphical_culture = carsteineverkidgfx
					}
					NOT = {
						trait = creature_human
					}
				}
				add_trait = creature_human
				if = {
					limit = {
						NOT = {
							trait = vampire_carstein_visible
						}
					}
					add_trait = vampire_carstein_visible
				}
			}
			if = {
				#Lahmian vampire
				limit = {
					graphical_culture = lahmiangfx
					NOT = {
						trait = creature_human
					}
				}
				add_trait = creature_human
				if = {
					limit = {
						NOT = {
							trait = vampire_lahmian_visible
						}
					}
					add_trait = vampire_lahmian_visible
				}
			}
			# if = { #Pig?
			# limit = {
			# culture_group = pig_group #????
			# NOT = { trait = creature_pig }
			# }
			# add_trait = creature_pig
			# }
			# if = { #Vampires - Commented since random_list doesn't work properly on startup FOR SOME REASON
			# limit = {
			# religion = vampiric
			# OR = {
			# culture_group = amazon_group
			# culture_group = arabyan_group
			# culture_group = bretonnian_group
			# culture_group = estalian_group
			# culture_group = hung_group
			# culture_group = immortal_group
			# culture_group = imperial_group
			# culture_group = kislevite_group
			# culture_group = kurgan_group
			# culture_group = norscan_group
			# culture_group = oriental_group
			# culture_group = strigany_group
			# culture_group = sartosan_group
			# culture_group = tilean_group
			# }
			# NOT = {
			# OR = {
			# trait = vampire_lahmian_visible
			# trait = vampire_carstein_visible
			# trait = vampire_blood_visible
			# trait = vampire_strigoi_visible
			# trait = vampire_necrarch_visible
			# trait = vampire_jade_visible
			# trait = vampire_mahtmasi_visible
			# }
			# }
			# }
			# random_list = {
			# 20 = {
			# modifier = {
			# factor = 80
			# female = yes
			# culture = strigany
			# }
			# add_trait = vampire_lahmian_visible
			# }
			# 20 = {
			# modifier = {
			# factor = 80
			# culture = imperial_group
			# location = { kingdom = k_sylvania }
			# }
			# add_trait = vampire_carstein_visible
			# }
			# 20 = {
			# modifier = {
			# factor = 80
			# culture = bretonnian_group
			# }
			# add_trait = vampire_blood_visible
			# }
			# 20 = {
			# add_trait = vampire_strigoi_visible
			# }
			# 20 = {
			# add_trait = vampire_necrarch_visible
			# }
			# }
			# }
			if = {
				limit = {
					OR = {
						father_even_if_dead = {
							trait = magic_potential_4
						}
						father_even_if_dead = {
							trait = magic_potential_3
						}
						father_even_if_dead = {
							trait = magic_potential_2
						}
						father_even_if_dead = {
							trait = magic_potential_1
						}
						father_even_if_dead = {
							has_character_flag = recessive_mage
						}
						father_even_if_dead = {
							has_character_flag = magic_potential_flag_1
						}
						father_even_if_dead = {
							has_character_flag = magic_potential_flag_2
						}
						father_even_if_dead = {
							has_character_flag = magic_potential_flag_3
						}
						father_even_if_dead = {
							has_character_flag = magic_potential_flag_4
						}
						mother_even_if_dead = {
							trait = magic_potential_4
						}
						mother_even_if_dead = {
							trait = magic_potential_3
						}
						mother_even_if_dead = {
							trait = magic_potential_2
						}
						mother_even_if_dead = {
							trait = magic_potential_1
						}
						mother_even_if_dead = {
							has_character_flag = recessive_mage
						}
						mother_even_if_dead = {
							has_character_flag = magic_potential_flag_1
						}
						mother_even_if_dead = {
							has_character_flag = magic_potential_flag_2
						}
						mother_even_if_dead = {
							has_character_flag = magic_potential_flag_3
						}
						mother_even_if_dead = {
							has_character_flag = magic_potential_flag_4
						}
					}
				}
				random_list = {
					30 = {
						#bad luck
						modifier = {
							factor = 0
							father_even_if_dead = {
								trait = magic_potential_4
							}
							mother_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.15
							father_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.15
							mother_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.25
							father_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 0.25
							mother_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 0.5
							father_even_if_dead = {
								trait = magic_potential_2
							}
						}
						modifier = {
							factor = 0.5
							mother_even_if_dead = {
								trait = magic_potential_2
							}
						}
						modifier = {
							factor = 0.75
							father_even_if_dead = {
								trait = magic_potential_1
							}
						}
						modifier = {
							factor = 0.75
							mother_even_if_dead = {
								trait = magic_potential_1
							}
						}
						modifier = {
							factor = 0
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 0.25
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 0.25
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 0.45
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 0.45
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 0.75
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_2
							}
						}
						modifier = {
							factor = 0.75
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_2
							}
						}
						modifier = {
							factor = 0.85
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_1
							}
						}
						modifier = {
							factor = 0.85
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_1
							}
						}
						modifier = {
							factor = 0.25
							father_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 0.25
							mother_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 0.5
							father_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 0.5
							mother_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 0.75
							father_even_if_dead = {
								has_character_modifier = magic_power_2
							}
						}
						modifier = {
							factor = 0.75
							mother_even_if_dead = {
								has_character_modifier = magic_power_2
							}
						}
						modifier = {
							factor = 0.95
							father_even_if_dead = {
								has_character_modifier = magic_power_1
							}
						}
						modifier = {
							factor = 0.95
							mother_even_if_dead = {
								has_character_modifier = magic_power_1
							}
						}
						modifier = {
							factor = 0.5
							father_even_if_dead = {
								has_character_flag = recessive_mage
							}
						}
						modifier = {
							factor = 0.5
							mother_even_if_dead = {
								has_character_flag = recessive_mage
							}
						}
						modifier = {
							factor = 0.95
							father_even_if_dead = {
								trait = creature_elf
							}
						}
						modifier = {
							factor = 0.95
							mother_even_if_dead = {
								trait = creature_elf
							}
						}
						modifier = {
							factor = 0.95
							religion = tzeentch
						}
						modifier = {
							factor = 1.25
							religion = khorne
						}
						set_character_flag = recessive_mage		#flag only used in the trigger of this event

					}
					35 = {
						modifier = {
							factor = 1.25
							father_even_if_dead = {
								trait = magic_potential_1
							}
						}
						modifier = {
							factor = 1.25
							mother_even_if_dead = {
								trait = magic_potential_1
							}
						}
						modifier = {
							factor = 1.35
							father_even_if_dead = {
								trait = magic_potential_2
							}
						}
						modifier = {
							factor = 1.35
							mother_even_if_dead = {
								trait = magic_potential_2
							}
						}
						modifier = {
							factor = 1.5
							father_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 1.5
							mother_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 1.75
							father_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 1.75
							mother_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.75
							father_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 0.75
							mother_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 1.15
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_1
							}
						}
						modifier = {
							factor = 1.15
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_1
							}
						}
						modifier = {
							factor = 1.25
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_2
							}
						}
						modifier = {
							factor = 1.25
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_2
							}
						}
						modifier = {
							factor = 1.35
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 1.35
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 1.5
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 1.5
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 1.05
							father_even_if_dead = {
								has_character_modifier = magic_power_1
							}
						}
						modifier = {
							factor = 1.05
							mother_even_if_dead = {
								has_character_modifier = magic_power_1
							}
						}
						modifier = {
							factor = 1.15
							father_even_if_dead = {
								has_character_modifier = magic_power_2
							}
						}
						modifier = {
							factor = 1.15
							mother_even_if_dead = {
								has_character_modifier = magic_power_2
							}
						}
						modifier = {
							factor = 1.25
							father_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 1.25
							mother_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 1.35
							father_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 1.35
							mother_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 1.5
							father_even_if_dead = {
								has_character_flag = recessive_mage
							}
						}
						modifier = {
							factor = 1.5
							mother_even_if_dead = {
								has_character_flag = recessive_mage
							}
						}
						set_character_flag = magic_potential_flag_1
					}
					25 = {
						modifier = {
							factor = 1.5
							father_even_if_dead = {
								trait = magic_potential_2
							}
						}
						modifier = {
							factor = 1.5
							mother_even_if_dead = {
								trait = magic_potential_2
							}
						}
						modifier = {
							factor = 1.75
							father_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 1.75
							mother_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 1.95
							father_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 1.95
							mother_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.5
							father_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 0.5
							mother_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 1.35
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_2
							}
						}
						modifier = {
							factor = 1.35
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_2
							}
						}
						modifier = {
							factor = 1.5
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 1.5
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 1.75
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 1.75
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 1.25
							father_even_if_dead = {
								has_character_modifier = magic_power_2
							}
						}
						modifier = {
							factor = 1.25
							mother_even_if_dead = {
								has_character_modifier = magic_power_2
							}
						}
						modifier = {
							factor = 1.35
							father_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 1.35
							mother_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 1.45
							father_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 1.45
							mother_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						set_character_flag = magic_potential_flag_2
					}
					10 = {
						modifier = {
							factor = 2
							father_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 2
							mother_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 2.5
							father_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 2.5
							mother_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.25
							father_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 0.25
							mother_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 1.75
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 1.75
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 2
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 2
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 1.45
							father_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 1.45
							mother_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 1.5
							father_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 1.5
							mother_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						set_character_flag = magic_potential_flag_3
					}
					5 = {
						modifier = {
							factor = 2.75
							father_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 2.75
							mother_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.15
							father_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 0.15
							mother_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 2.25
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 2.25
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 1.65
							father_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 1.65
							mother_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 1.25
							religion = tzeentch
						}
						set_character_flag = magic_potential_flag_4
					}
				} #closesrandomlist

			}
		}
		recalc_succession = yes
	}
}

DR_generate_female_child_effect = {
	if = {
		limit = {
			NOT = {
				num_of_children = 2
			}
		}
		if = {
			limit = {
				NOT = {
					age = 22
				}
				age = 17
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 1
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 2
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 3
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If younger than 26, but older than 21
				NOT = {
					age = 26
				}
				age = 22
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 4
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 5
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 6
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If younger than 29, but older than 25
				NOT = {
					age = 29
				}
				age = 26
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 7
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 8
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 9
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If younger than 32, but older than 28
				NOT = {
					age = 32
				}
				age = 29
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 10
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 11
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 12
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If younger than 35, but older than 31
				NOT = {
					age = 35
				}
				age = 32
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 13
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 14
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 15
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If younger than 38, but older than 34
				NOT = {
					age = 38
				}
				age = 35
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 19
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 20
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 21
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 38
				NOT = {
					age = 48
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 25
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 26
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 27
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 38
				NOT = {
					age = 48
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 25
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 26
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 27
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 48
				NOT = {
					age = 58
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 35
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 36
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 37
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 58
				NOT = {
					age = 68
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 45
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 46
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 47
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 68
				NOT = {
					age = 78
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 55
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 56
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 57
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 78
				NOT = {
					age = 88
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 65
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 66
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 67
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 88
				NOT = {
					age = 98
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 75
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 76
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 77
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 98
				NOT = {
					age = 108
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 85
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 86
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 87
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 100
				NOT = {
					age = 150
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 115
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 112
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 113
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 150
				NOT = {
					age = 200
				}
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 125
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 122
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 123
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				# If older than 37
				age = 200
			}
			random_list = {
				34 = {
					create_character = {
						random_traits = yes
						age = 155
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 152
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
				33 = {
					create_character = {
						random_traits = yes
						age = 153
						female = yes
						culture = ROOT
						religion = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		new_character = {
			if = {
				limit = {
					ROOT = {
						is_female = no
					}
				}
				set_father = ROOT
			}
			if = {
				limit = {
					ROOT = {
						is_female = yes
					}
				}
				set_mother = ROOT
			}
			ROOT = {
				random_spouse = {
					limit = {
						age_diff = {
							who = PREVPREV years = 16
						}
					}
					if = {
						limit = {
							is_female = no
						}
						new_character = {
							set_father = PREV
						}
					}
					if = {
						limit = {
							is_female = yes
						}
						new_character = {
							set_mother = PREV
						}
					}
				}
			}
			if = {
				limit = {
					#Humans
					NOT = {
						AND = {
							is_female = yes
							culture_group = amazon_group
						}
					}
					OR = {
						graphical_culture = westerngfx
						graphical_culture = easterngfx
						graphical_culture = muslimgfx
						graphical_culture = frankishgfx
						graphical_culture = englishgfx
						graphical_culture = germangfx
						graphical_culture = occitangfx
						graphical_culture = southerngfx
						graphical_culture = celticgfx
						graphical_culture = norsegfx
						graphical_culture = saxongfx
						graphical_culture = normangfx
						graphical_culture = easternslavicgfx
						graphical_culture = westernslavicgfx
						graphical_culture = byzantinegfx
						graphical_culture = ugricgfx
						graphical_culture = arabicgfx
						graphical_culture = turkishgfx
						graphical_culture = mongolgfx
						graphical_culture = africangfx
						graphical_culture = westafricangfx
						graphical_culture = andalusiangfx
						graphical_culture = persiangfx
						graphical_culture = empiregfx
						graphical_culture = sylvaniangfx
						graphical_culture = kurgangfx
						graphical_culture = arabyangfx
						graphical_culture = northempiregfx
						graphical_culture = tileagfx
						graphical_culture = estileangfx
						graphical_culture = hunggfx
						graphical_culture = southarabyangfx
						graphical_culture = northmangfx
						graphical_culture = nehekkagfx
						graphical_culture = sartosantileangfx
						graphical_culture = bretonniangfx
						graphical_culture = cumangfx
						graphical_culture = livinglahmiangfx
						graphical_culture = italiangfx
						graphical_culture = reiklandergfx
						graphical_culture = witchhuntergfx
						graphical_culture = blooddragonsgfx
						graphical_culture = striganygfx
						graphical_culture = sartosangfx
						graphical_culture = strygangfx
						graphical_culture = amazongfx
						graphical_culture = cathayangfx
						graphical_culture = livingjadegfx
						graphical_culture = wasaigfx
						graphical_culture = cophicgfx
						graphical_culture = tevarigfx
						graphical_culture = medeangfx
						graphical_culture = arabyansartosangfx
						graphical_culture = norscangfx
						graphical_culture = norscansartosangfx
						graphical_culture = kislevitegfx
						graphical_culture = ropsmanngfx
						graphical_culture = tileangfx
						graphical_culture = estaliangfx
						graphical_culture = mykengfx
						AND = {
							is_female = no
							culture_group = amazon_group
						}
					}
					NOT = {
						trait = creature_human
					}
					NOT = {
						trait = creature_amazon
					}
					NOT = {
						trait = creature_monster
					}
					NOT = {
						trait = creature_celdragon
					}
				}
				add_trait = creature_human
			}
			#Witch Hunter Check
			if = {
				limit = {
					culture = witchhunter_culture
					NOT = {
						trait = witch_hunter
					}
				}
				add_trait = witch_hunter
			}
			# #Blood Dragon Culture Check
			# if = { limit = { culture = blooddragons_culture
			# NOR = { trait = vampire_blood_visible
			# trait = vampire_blood_hidden } }
			# set_graphical_culture = generic_vampire
			# add_trait = vampire_blood_visible }
			if = {
				limit = {
					liege = {
						trait = creature_amazon
					}
				}
				add_trait = disinherited_amazon
			}
			if = {
				#Amazons
				limit = {
					OR = {
						graphical_culture = westerngfx
						graphical_culture = easterngfx
						graphical_culture = muslimgfx
						graphical_culture = frankishgfx
						graphical_culture = englishgfx
						graphical_culture = germangfx
						graphical_culture = occitangfx
						graphical_culture = southerngfx
						graphical_culture = celticgfx
						graphical_culture = norsegfx
						graphical_culture = saxongfx
						graphical_culture = normangfx
						graphical_culture = easternslavicgfx
						graphical_culture = westernslavicgfx
						graphical_culture = byzantinegfx
						graphical_culture = ugricgfx
						graphical_culture = arabicgfx
						graphical_culture = turkishgfx
						graphical_culture = mongolgfx
						graphical_culture = africangfx
						graphical_culture = westafricangfx
						graphical_culture = andalusiangfx
						graphical_culture = persiangfx
						graphical_culture = empiregfx
						graphical_culture = sylvaniangfx
						graphical_culture = kurgangfx
						graphical_culture = arabyangfx
						graphical_culture = northempiregfx
						graphical_culture = tileagfx
						graphical_culture = estileangfx
						graphical_culture = hunggfx
						graphical_culture = southarabyangfx
						graphical_culture = northmangfx
						graphical_culture = sartosantileangfx
						graphical_culture = bretonniangfx
						graphical_culture = nehekkagfx
						graphical_culture = cumangfx
						graphical_culture = livinglahmiangfx
						graphical_culture = italiangfx
						graphical_culture = reiklandergfx
						graphical_culture = witchhuntergfx
						graphical_culture = blooddragonsgfx
						graphical_culture = striganygfx
						graphical_culture = sartosangfx
						graphical_culture = strygangfx
						graphical_culture = amazongfx
						graphical_culture = cathayangfx
						graphical_culture = livingjadegfx
						graphical_culture = wasaigfx
						graphical_culture = cophicgfx
						graphical_culture = tevarigfx
						graphical_culture = medeangfx
						graphical_culture = arabyansartosangfx
						graphical_culture = norscangfx
						graphical_culture = norscansartosangfx
						graphical_culture = kislevitegfx
						graphical_culture = ropsmanngfx
						graphical_culture = tileangfx
						graphical_culture = estaliangfx
						graphical_culture = mykengfx
					}
					is_female = yes
					culture_group = amazon_group
					NOT = {
						trait = creature_amazon
					}
					NOT = {
						trait = creature_human
					}
					NOT = {
						trait = creature_monster
					}
					NOT = {
						trait = creature_celdragon
					}
				}
				add_trait = creature_amazon
			}
			if = {
				#Elfs
				limit = {
					OR = {
						graphical_culture = asurgfx
						graphical_culture = caledoriangfx
						graphical_culture = nagarythiangfx
						graphical_culture = asraigfx
						graphical_culture = druchiigfx
					}
					NOT = {
						trait = creature_elf
					}
					NOT = {
						trait = creature_treekin
					}
				}
				add_trait = creature_elf
			}
			if = {
				#Dwarfs
				limit = {
					OR = {
						graphical_culture = dwarfgfx
						graphical_culture = imperialdwarfgfx
						graphical_culture = olddwarfgfx
					}
					NOT = {
						trait = creature_dwarf
					}
				}
				add_trait = creature_dwarf
			}
			if = {
				#Dwarfs under the age of 75 are beardlings
				limit = {
					culture_group = dwarf_group
					NOT = {
						trait = beardling
						age = 75
					}
				}
				add_trait = beardling
			}
			if = {
				#Some dwarfs become warriors
				limit = {
					culture_group = dwarf_group
					age = 75
					is_female = no
					NOT = {
						trait = thunderer
						trait = quarreller
						trait = dwarf_warrior
						trait = hammerer
						trait = ironbreaker
						trait = longbeard
						has_character_flag = dwarf_did_not_become_warrior
						has_character_flag = becoming_thunderer
						has_character_flag = becoming_quarreller
						has_character_flag = becoming_dwarf_warrior
					}
				}
				random_list = {
					15 = {
						modifier = {
							factor = 4
							martial = 10
							NOT = {
								trait = craven
							}
						}
						add_trait = dwarf_warrior
					}
					5 = {
						modifier = {
							factor = 4
							martial = 10
							NOT = {
								trait = craven
							}
						}
						add_trait = quarreller
					}
					5 = {
						modifier = {
							factor = 4
							martial = 10
							NOT = {
								trait = craven
							}
						}
						add_trait = thunderer
					}
					75 = {
						modifier = {
							factor = 0
							martial = 10
							NOT = {
								trait = craven
							}
						}
						set_character_flag = dwarf_did_not_become_warrior
					}
				}
			}
			if = {
				#Chaos Dwarfs
				limit = {
					OR = {
						graphical_culture = chaosdwarfgfx
						graphical_culture = oldchaosdwarfgfx
					}
					NOT = {
						trait = creature_chaos_dwarf
					}
				}
				add_trait = creature_chaos_dwarf
			}
			if = {
				#Halflings
				limit = {
					OR = {
						graphical_culture = hobbitsgfx
						graphical_culture = miyangfx
					}
					NOT = {
						trait = creature_halfling
					}
				}
				add_trait = creature_halfling
			}
			if = {
				#Orcs
				limit = {
					graphical_culture = orcgfx
					is_female = no
					NOT = {
						trait = creature_orc
					}
				}
				add_trait = creature_orc
				random_list = {
					35 = {
						add_trait = orc_small
					}
					45 = {
						add_trait = orc_average
					}
					15 = {
						add_trait = orc_large
					}
					5 = {
						add_trait = orc_huge
					}
				}
				random_list = {
					50 = {
						add_trait = greenskin_gods_gork
					}
					50 = {
						add_trait = greenskin_gods_mork
					}
				}
			}
			if = {
				#Goblins
				limit = {
					graphical_culture = goblingfx
					is_female = no
					NOT = {
						trait = creature_goblin
					}
				}
				add_trait = creature_goblin
				random_list = {
					45 = {
						add_trait = goblin_small
					}
					40 = {
						add_trait = goblin_average
					}
					10 = {
						add_trait = goblin_large
					}
					5 = {
						add_trait = goblin_huge
					}
				}
				if = {
					limit = {
						religion = greenskin_gods
					}
					random_list = {
						50 = {
							add_trait = greenskin_gods_gork
						}
						50 = {
							add_trait = greenskin_gods_mork
						}
					}
				}
			}
			if = {
				#Snotlings
				limit = {
					OR = {
						graphical_culture = goblingfx
						graphical_culture = orcgfx
					}
					is_female = yes
					NOT = {
						trait = creature_snotling
					}
				}
				add_trait = creature_snotling
			}
			#Greenskin Shamans
			if = {
				limit = {
					is_female = no
					OR = {
						AND = {
							graphical_culture = orcgfx
							trait = creature_orc
						}
						AND = {
							graphical_culture = goblingfx
							trait = creature_goblin
						}
					}
				}
				if = {
					limit = {
						is_theocracy = yes
					}
					add_trait = lore_waaagh
					add_character_modifier = {
						name = magic_power_1 duration = -1
					}
				}
			}
			if = {
				#Nehekharans
				limit = {
					graphical_culture = nehekharangfx
					NOT = {
						trait = creature_nehekharan
					}
				}
				add_trait = creature_nehekharan
			}
			if = {
				limit = {
					is_landed = yes
					ruled_years = 2
					is_feudal = yes
					graphical_culture = nehekharangfx
					NOR = {
						trait = khemri_tomb_king
						trait = khemri_soldier
						trait = khemri_liche_priest
					}

				}
				add_trait = khemri_tomb_king
				set_government_type = nehekharan_government
				break = yes
			}
			if = {
				limit = {
					graphical_culture = nehekharangfx
					NOR = {
						trait = khemri_tomb_king
						trait = khemri_soldier
						trait = khemri_liche_priest
					}
					OR = {
						is_landed = no
						NOT = {
							is_theocracy = yes
						}
						NOT = {
							ruled_years = 2
						}
					}
					NAND = {
						is_female = no
						OR = {
							trait = detached_priest
							trait = martial_cleric
							trait = scholarly_theologian
							trait = mastermind_theologian
						}
					}
				}
				add_trait = khemri_soldier
				liege = {
					ROOT = {
						abdicate_to = PREV
					}
				}
				set_government_type = nehekharan_government
				any_spouse = {
					remove_spouse = ROOT
				}
				break = yes
			} #closesif
			if = {
				limit = {
					is_female = no
					graphical_culture = nehekharangfx
					NOR = {
						trait = khemri_tomb_king
						trait = khemri_soldier
						trait = khemri_liche_priest
					}
					OR = {
						is_theocracy = yes
						AND = {
							is_landed = no
							trait = detached_priest
						}
						AND = {
							is_landed = no
							trait = martial_cleric
						}
						AND = {
							is_landed = no
							trait = scholarly_theologian
						}
						AND = {
							is_landed = no
							trait = mastermind_theologian
						}
					}
				}
				add_trait = khemri_liche_priest
				set_government_type = theocracy_government
				add_character_modifier = {
					name = magic_power_2 duration = -1
				}
			} #closesif
			if = {
				#Skink Lizardmen
				limit = {
					graphical_culture = lizardmangfx
					NOR = {
						trait = creature_skink
						trait = creature_slann
						trait = creature_saurus
					}
				}
      			if = {
					limit = {
						is_female = no
					}
					add_trait = creature_skink
				}
			    if = {
					limit = {
						is_female = yes
					}
					add_trait = creature_saurus
				}
			}
			if = {
				#Skaven
				limit = {
					culture_group = skaven_group
					NOT = {
						trait = creature_skaven
					}
				}
				add_trait = creature_skaven
				if = {
					limit = {
						is_female = yes
					}
					add_trait = skaven_breeder
				}
				if = {
					limit = {
						graphical_culture = skavenwhitegfx
						is_female = no
						age = 16
					}
					add_trait = grey_seer
				}
				if = {
					limit = {
						graphical_culture = skavenwhitegfx
					}
					add_trait = white_skaven
					break = yes
				}
				if = {
					limit = {
						graphical_culture = skavenblackgfx
					}
					add_trait = black_skaven
					break = yes
				}
			}
			if = {
				#Forest spirits
				limit = {
					graphical_culture = treemangfx
					NOT = {
						trait = creature_treekin
					}
					NOT = {
						trait = creature_forestspirit
					}
				}
				add_trait = creature_forestspirit
			}
			if = {
				#Beastman
				limit = {
					OR = {
						graphical_culture = beastmangfx
					}
				}
				add_trait = creature_beastman
				if = {
					limit = {
						is_female = no
						NOT = {
							trait = horns_none
						}
						NOT = {
							trait = horns_small
						}
						NOT = {
							trait = horns_average
						}
						NOT = {
							trait = horns_big
						}
					}
					random_list = {
						10 = {
							add_trait = horns_none
						}
						40 = {
							add_trait = horns_small
						}
						45 = {
							add_trait = horns_average
						}
						5 = {
							add_trait = horns_big
						}
					}
				}
			}
			if = {
				#Ogre
				limit = {
					graphical_culture = ogresgfx
					NOT = {
						trait = creature_ogre
					}
				}
				add_trait = creature_ogre
			}
			if = {
				#Chaos Spawn
				limit = {
					graphical_culture = chaosspawngfx
					NOT = {
						trait = creature_chaosspawn
					}
				}
				add_trait = creature_chaosspawn
			}
			if = {
				#Daemonette
				limit = {
					graphical_culture = daemonettegfx
					NOT = {
						trait = slaanesh_demon
					}
					NOT = {
						trait = slaanesh_daemonette
					}
				}
				add_trait = slaanesh_demon
				add_trait = slaanesh_daemonette
			}
			if = {
				#Bloodletter
				limit = {
					graphical_culture = bloodlettergfx
					NOT = {
						trait = khorne_demon
					}
					NOT = {
						trait = khorne_bloodletter
					}
				}
				add_trait = khorne_demon
				add_trait = khorne_bloodletter
			}
			if = {
				#Plaguebearer
				limit = {
					graphical_culture = plaguebearergfx
					NOT = {
						trait = nurgle_demon
					}
					NOT = {
						trait = nurgle_plaguebearer
					}
				}
				add_trait = nurgle_demon
				add_trait = nurgle_plaguebearer
			}
			if = {
				#Flamer
				limit = {
					graphical_culture = flamergfx
					NOT = {
						trait = tzeentch_demon
					}
					NOT = {
						trait = tzeentch_flamer
					}
				}
				add_trait = tzeentch_demon
				add_trait = tzeentch_flamer
			}
			if = {
				#Von Carstein vampire
				limit = {
					OR = {
						graphical_culture = carsteingfx
						graphical_culture = carsteineverkidgfx
					}
					NOT = {
						trait = creature_human
					}
				}
				add_trait = creature_human
				if = {
					limit = {
						NOT = {
							trait = vampire_carstein_visible
						}
					}
					add_trait = vampire_carstein_visible
				}
			}
			if = {
				#Lahmian vampire
				limit = {
					graphical_culture = lahmiangfx
					NOT = {
						trait = creature_human
					}
				}
				add_trait = creature_human
				if = {
					limit = {
						NOT = {
							trait = vampire_lahmian_visible
						}
					}
					add_trait = vampire_lahmian_visible
				}
			}
			# if = { #Pig?
			# limit = {
			# culture_group = pig_group #????
			# NOT = { trait = creature_pig }
			# }
			# add_trait = creature_pig
			# }
			# if = { #Vampires - Commented since random_list doesn't work properly on startup FOR SOME REASON
			# limit = {
			# religion = vampiric
			# OR = {
			# culture_group = amazon_group
			# culture_group = arabyan_group
			# culture_group = bretonnian_group
			# culture_group = estalian_group
			# culture_group = hung_group
			# culture_group = immortal_group
			# culture_group = imperial_group
			# culture_group = kislevite_group
			# culture_group = kurgan_group
			# culture_group = norscan_group
			# culture_group = oriental_group
			# culture_group = strigany_group
			# culture_group = sartosan_group
			# culture_group = tilean_group
			# }
			# NOT = {
			# OR = {
			# trait = vampire_lahmian_visible
			# trait = vampire_carstein_visible
			# trait = vampire_blood_visible
			# trait = vampire_strigoi_visible
			# trait = vampire_necrarch_visible
			# trait = vampire_jade_visible
			# trait = vampire_mahtmasi_visible
			# }
			# }
			# }
			# random_list = {
			# 20 = {
			# modifier = {
			# factor = 80
			# female = yes
			# culture = strigany
			# }
			# add_trait = vampire_lahmian_visible
			# }
			# 20 = {
			# modifier = {
			# factor = 80
			# culture = imperial_group
			# location = { kingdom = k_sylvania }
			# }
			# add_trait = vampire_carstein_visible
			# }
			# 20 = {
			# modifier = {
			# factor = 80
			# culture = bretonnian_group
			# }
			# add_trait = vampire_blood_visible
			# }
			# 20 = {
			# add_trait = vampire_strigoi_visible
			# }
			# 20 = {
			# add_trait = vampire_necrarch_visible
			# }
			# }
			# }
			if = {
				limit = {
					OR = {
						father_even_if_dead = {
							trait = magic_potential_4
						}
						father_even_if_dead = {
							trait = magic_potential_3
						}
						father_even_if_dead = {
							trait = magic_potential_2
						}
						father_even_if_dead = {
							trait = magic_potential_1
						}
						father_even_if_dead = {
							has_character_flag = recessive_mage
						}
						father_even_if_dead = {
							has_character_flag = magic_potential_flag_1
						}
						father_even_if_dead = {
							has_character_flag = magic_potential_flag_2
						}
						father_even_if_dead = {
							has_character_flag = magic_potential_flag_3
						}
						father_even_if_dead = {
							has_character_flag = magic_potential_flag_4
						}
						mother_even_if_dead = {
							trait = magic_potential_4
						}
						mother_even_if_dead = {
							trait = magic_potential_3
						}
						mother_even_if_dead = {
							trait = magic_potential_2
						}
						mother_even_if_dead = {
							trait = magic_potential_1
						}
						mother_even_if_dead = {
							has_character_flag = recessive_mage
						}
						mother_even_if_dead = {
							has_character_flag = magic_potential_flag_1
						}
						mother_even_if_dead = {
							has_character_flag = magic_potential_flag_2
						}
						mother_even_if_dead = {
							has_character_flag = magic_potential_flag_3
						}
						mother_even_if_dead = {
							has_character_flag = magic_potential_flag_4
						}
					}
				}
				random_list = {
					30 = {
						#bad luck
						modifier = {
							factor = 0
							father_even_if_dead = {
								trait = magic_potential_4
							}
							mother_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.15
							father_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.15
							mother_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.25
							father_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 0.25
							mother_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 0.5
							father_even_if_dead = {
								trait = magic_potential_2
							}
						}
						modifier = {
							factor = 0.5
							mother_even_if_dead = {
								trait = magic_potential_2
							}
						}
						modifier = {
							factor = 0.75
							father_even_if_dead = {
								trait = magic_potential_1
							}
						}
						modifier = {
							factor = 0.75
							mother_even_if_dead = {
								trait = magic_potential_1
							}
						}
						modifier = {
							factor = 0
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 0.25
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 0.25
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 0.45
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 0.45
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 0.75
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_2
							}
						}
						modifier = {
							factor = 0.75
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_2
							}
						}
						modifier = {
							factor = 0.85
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_1
							}
						}
						modifier = {
							factor = 0.85
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_1
							}
						}
						modifier = {
							factor = 0.25
							father_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 0.25
							mother_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 0.5
							father_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 0.5
							mother_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 0.75
							father_even_if_dead = {
								has_character_modifier = magic_power_2
							}
						}
						modifier = {
							factor = 0.75
							mother_even_if_dead = {
								has_character_modifier = magic_power_2
							}
						}
						modifier = {
							factor = 0.95
							father_even_if_dead = {
								has_character_modifier = magic_power_1
							}
						}
						modifier = {
							factor = 0.95
							mother_even_if_dead = {
								has_character_modifier = magic_power_1
							}
						}
						modifier = {
							factor = 0.5
							father_even_if_dead = {
								has_character_flag = recessive_mage
							}
						}
						modifier = {
							factor = 0.5
							mother_even_if_dead = {
								has_character_flag = recessive_mage
							}
						}
						modifier = {
							factor = 0.95
							father_even_if_dead = {
								trait = creature_elf
							}
						}
						modifier = {
							factor = 0.95
							mother_even_if_dead = {
								trait = creature_elf
							}
						}
						modifier = {
							factor = 0.95
							religion = tzeentch
						}
						modifier = {
							factor = 1.25
							religion = khorne
						}
						set_character_flag = recessive_mage		#flag only used in the trigger of this event

					}
					35 = {
						modifier = {
							factor = 1.25
							father_even_if_dead = {
								trait = magic_potential_1
							}
						}
						modifier = {
							factor = 1.25
							mother_even_if_dead = {
								trait = magic_potential_1
							}
						}
						modifier = {
							factor = 1.35
							father_even_if_dead = {
								trait = magic_potential_2
							}
						}
						modifier = {
							factor = 1.35
							mother_even_if_dead = {
								trait = magic_potential_2
							}
						}
						modifier = {
							factor = 1.5
							father_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 1.5
							mother_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 1.75
							father_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 1.75
							mother_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.75
							father_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 0.75
							mother_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 1.15
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_1
							}
						}
						modifier = {
							factor = 1.15
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_1
							}
						}
						modifier = {
							factor = 1.25
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_2
							}
						}
						modifier = {
							factor = 1.25
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_2
							}
						}
						modifier = {
							factor = 1.35
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 1.35
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 1.5
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 1.5
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 1.05
							father_even_if_dead = {
								has_character_modifier = magic_power_1
							}
						}
						modifier = {
							factor = 1.05
							mother_even_if_dead = {
								has_character_modifier = magic_power_1
							}
						}
						modifier = {
							factor = 1.15
							father_even_if_dead = {
								has_character_modifier = magic_power_2
							}
						}
						modifier = {
							factor = 1.15
							mother_even_if_dead = {
								has_character_modifier = magic_power_2
							}
						}
						modifier = {
							factor = 1.25
							father_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 1.25
							mother_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 1.35
							father_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 1.35
							mother_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 1.5
							father_even_if_dead = {
								has_character_flag = recessive_mage
							}
						}
						modifier = {
							factor = 1.5
							mother_even_if_dead = {
								has_character_flag = recessive_mage
							}
						}
						set_character_flag = magic_potential_flag_1
					}
					25 = {
						modifier = {
							factor = 1.5
							father_even_if_dead = {
								trait = magic_potential_2
							}
						}
						modifier = {
							factor = 1.5
							mother_even_if_dead = {
								trait = magic_potential_2
							}
						}
						modifier = {
							factor = 1.75
							father_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 1.75
							mother_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 1.95
							father_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 1.95
							mother_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.5
							father_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 0.5
							mother_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 1.35
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_2
							}
						}
						modifier = {
							factor = 1.35
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_2
							}
						}
						modifier = {
							factor = 1.5
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 1.5
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 1.75
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 1.75
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 1.25
							father_even_if_dead = {
								has_character_modifier = magic_power_2
							}
						}
						modifier = {
							factor = 1.25
							mother_even_if_dead = {
								has_character_modifier = magic_power_2
							}
						}
						modifier = {
							factor = 1.35
							father_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 1.35
							mother_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 1.45
							father_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 1.45
							mother_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						set_character_flag = magic_potential_flag_2
					}
					10 = {
						modifier = {
							factor = 2
							father_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 2
							mother_even_if_dead = {
								trait = magic_potential_3
							}
						}
						modifier = {
							factor = 2.5
							father_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 2.5
							mother_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.25
							father_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 0.25
							mother_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 1.75
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 1.75
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_3
							}
						}
						modifier = {
							factor = 2
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 2
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 1.45
							father_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 1.45
							mother_even_if_dead = {
								has_character_modifier = magic_power_3
							}
						}
						modifier = {
							factor = 1.5
							father_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 1.5
							mother_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						set_character_flag = magic_potential_flag_3
					}
					5 = {
						modifier = {
							factor = 2.75
							father_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 2.75
							mother_even_if_dead = {
								trait = magic_potential_4
							}
						}
						modifier = {
							factor = 0.15
							father_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 0.15
							mother_even_if_dead = {
								NOT = {
									trait = magic_potential_1
								}
								NOT = {
									trait = magic_potential_2
								}
								NOT = {
									trait = magic_potential_3
								}
								NOT = {
									trait = magic_potential_4
								}
								NOT = {
									has_character_flag = magic_potential_flag_1
								}
								NOT = {
									has_character_flag = magic_potential_flag_2
								}
								NOT = {
									has_character_flag = magic_potential_flag_3
								}
								NOT = {
									has_character_flag = magic_potential_flag_4
								}
							}
						}
						modifier = {
							factor = 2.25
							father_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 2.25
							mother_even_if_dead = {
								has_character_flag = magic_potential_flag_4
							}
						}
						modifier = {
							factor = 1.65
							father_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 1.65
							mother_even_if_dead = {
								has_character_modifier = magic_power_4
							}
						}
						modifier = {
							factor = 1.25
							religion = tzeentch
						}
						set_character_flag = magic_potential_flag_4
					}
				} #closesrandomlist

			}
		}
		recalc_succession = yes
	}
}

major_chaos_corruption_effect = {
	custom_tooltip = {
		text = major_chaos_corruption_effect_tooltip
	}
	hidden_effect = {
		if = {
			limit = {
				society_member_of = cult_of_khorne
			}
			random_list = {
				20 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = kind
							}
							trait = cruel
						}
					}
					remove_trait = kind
					add_trait = cruel
				}
				20 = {
					modifier = {
						factor = 0
						trait = wroth
					}
					remove_trait = kind
					add_trait = wroth
				}
				20 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = weak
							}
							trait = strong
						}
					}
					remove_trait = weak
					add_trait = strong
				}
				11 = {
					character_event = {
						id = mutation.20007
					}
				} #teeth
				11 = {
					character_event = {
						id = mutation.6
					}
				} #horns
				20 = {
				}
			}
		}
		if = {
			limit = {
				society_member_of = cult_of_nurgle
			}
			random_list = {
				20 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = cruel
							}
							trait = kind
						}
					}
					remove_trait = cruel
					add_trait = kind
				}
				20 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = ambitious
							}
							trait = content
						}
					}
					remove_trait = ambitious
					add_trait = content
				}
				6 = {
					give_pneumonic_effect = yes
				}
				6 = {
					give_has_tuberculosis_effect = yes
				}
				6 = {
					give_has_typhoid_fever_effect = yes
				}
				6 = {
					give_has_bubonic_plague_effect = yes
				}
				6 = {
					give_has_measles_effect = yes
				}
				6 = {
					give_has_small_pox_effect = yes
				}
				6 = {
					give_has_aztec_disease_effect = yes
				}
				6 = {
					give_syphilitic_effect = yes
				}
				6 = {
					give_flu_effect = yes
				}
				6 = {
					give_dysentery_effect = yes
				}
				6 = {
					give_gout_effect = yes
				}
				6 = {
					give_food_poisoning_effect = yes
				}
				6 = {
					give_rabies_effect = yes
				}
				6 = {
					give_cancer_effect = yes
				}
				6 = {
					give_ill_effect = yes
				}
				6 = {
				}
			}
		}
		if = {
			limit = {
				society_member_of = cult_of_tzeentch
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = honest
							}
							trait = deceitful
						}
					}
					remove_trait = honest
					add_trait = deceitful
				}
				50 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = content
							}
							trait = ambitious
						}
					}
					remove_trait = content
					add_trait = ambitious
				}
				3 = {
					character_event = {
						id = mutation.2
					}
				} #thirdeye
				4 = {
					character_event = {
						id = mutation.3
					}
				} #spines
				4 = {
					character_event = {
						id = mutation.4
					}
				} #smell
				4 = {
					character_event = {
						id = mutation.5
					}
				} #scales
				3 = {
					character_event = {
						id = mutation.6
					}
				} #horns
				4 = {
					character_event = {
						id = mutation.7
					}
				} #spines
				3 = {
					character_event = {
						id = mutation.8
					}
				} #monstrous
				3 = {
					character_event = {
						id = mutation.10
					}
				} #second head
				4 = {
					character_event = {
						id = mutation.20005
					}
				} #beak
				3 = {
					character_event = {
						id = mutation.20006
					}
				} #tongue
				4 = {
					character_event = {
						id = mutation.20007
					}
				} #teeth
				2 = {
					character_event = {
						id = mutation.20008
					}
				} #many eyes
				3 = {
					character_event = {
						id = mutation.20009
					}
				} #big eye
				30 = {
				}
			}
		}
		if = {
			limit = {
				society_member_of = cult_of_slaanesh
			}
			random_list = {
				14 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = chaste
							}
							trait = lustful
						}
					}
					remove_trait = chaste
					add_trait = lustful
				}
				14 = {
					modifier = {
						factor = 0
						trait = gluttonous
					}
					remove_trait = temperate
					add_trait = gluttonous
				}
				14 = {
					modifier = {
						factor = 0
						trait = homosexual
					}
					add_trait = homosexual
				}
				14 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = weak
							}
							trait = strong
						}
					}
					remove_trait = weak
					add_trait = strong
				}
				14 = {
					character_event = {
						id = mutation.7
					}
				} #spines
				14 = {
					character_event = {
						id = mutation.20006
					}
				} #tongue
				25 = {
				}
			}
		}
		if = {
			limit = {
				society_member_of = cult_of_undivided
			}
			random_list = {
				20 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = chaste
							}
							trait = lustful
						}
					}
					remove_trait = chaste
					add_trait = lustful
				}
				20 = {
					modifier = {
						factor = 0
						trait = gluttonous
					}
					remove_trait = temperate
					add_trait = gluttonous
				}
				20 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = weak
							}
							trait = strong
						}
					}
					remove_trait = weak
					add_trait = strong
				}
				10 = {
					character_event = {
						id = mutation.7
					}
				} #spines
				10 = {
					character_event = {
						id = mutation.20006
					}
				} #tongue
				20 = {
				}
			}
		}
	}
}

minor_chaos_corruption_effect = {
	custom_tooltip = {
		text = minor_chaos_corruption_effect_tooltip
	}
	if = {
		limit = {
			society_member_of = cult_of_khorne
		}
		random_list = {
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = kind
						}
						trait = cruel
					}
				}
				remove_trait = kind
				add_trait = cruel
			}
			5 = {
				modifier = {
					factor = 0
					trait = wroth
				}
				remove_trait = kind
				add_trait = wroth
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = weak
						}
						trait = strong
					}
				}
				remove_trait = weak
				add_trait = strong
			}
			1 = {
				character_event = {
					id = mutation.20007
				}
			} #teeth
			1 = {
				character_event = {
					id = mutation.6
				}
			} #horns
			80 = {
			}
		}
	}
	if = {
		limit = {
			society_member_of = cult_of_nurgle
		}
		random_list = {
			20 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = cruel
						}
						trait = kind
					}
				}
				remove_trait = cruel
				add_trait = kind
			}
			20 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = ambitious
						}
						trait = content
					}
				}
				remove_trait = ambitious
				add_trait = content
			}
			6 = {
				give_pneumonic_effect = yes
			}
			6 = {
				give_has_tuberculosis_effect = yes
			}
			6 = {
				give_has_typhoid_fever_effect = yes
			}
			6 = {
				give_has_bubonic_plague_effect = yes
			}
			6 = {
				give_has_measles_effect = yes
			}
			6 = {
				give_has_small_pox_effect = yes
			}
			6 = {
				give_has_aztec_disease_effect = yes
			}
			6 = {
				give_syphilitic_effect = yes
			}
			6 = {
				give_flu_effect = yes
			}
			6 = {
				give_dysentery_effect = yes
			}
			6 = {
				give_gout_effect = yes
			}
			6 = {
				give_food_poisoning_effect = yes
			}
			6 = {
				give_rabies_effect = yes
			}
			6 = {
				give_cancer_effect = yes
			}
			6 = {
				give_ill_effect = yes
			}
			80 = {
			}
		}
	}
	if = {
		limit = {
			society_member_of = cult_of_tzeentch
		}
		random_list = {
			50 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = honest
						}
						trait = deceitful
					}
				}
				remove_trait = honest
				add_trait = deceitful
			}
			50 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = content
						}
						trait = ambitious
					}
				}
				remove_trait = content
				add_trait = ambitious
			}
			3 = {
				character_event = {
					id = mutation.2
				}
			} #thirdeye
			4 = {
				character_event = {
					id = mutation.3
				}
			} #spines
			4 = {
				character_event = {
					id = mutation.4
				}
			} #smell
			4 = {
				character_event = {
					id = mutation.5
				}
			} #scales
			3 = {
				character_event = {
					id = mutation.6
				}
			} #horns
			4 = {
				character_event = {
					id = mutation.7
				}
			} #spines
			3 = {
				character_event = {
					id = mutation.8
				}
			} #monstrous
			3 = {
				character_event = {
					id = mutation.10
				}
			} #second head
			4 = {
				character_event = {
					id = mutation.20005
				}
			} #beak
			3 = {
				character_event = {
					id = mutation.20006
				}
			} #tongue
			4 = {
				character_event = {
					id = mutation.20007
				}
			} #teeth
			2 = {
				character_event = {
					id = mutation.20008
				}
			} #many eyes
			3 = {
				character_event = {
					id = mutation.20009
				}
			} #big eye
			80 = {
			}
		}
	}
	if = {
		limit = {
			society_member_of = cult_of_slaanesh
		}
		random_list = {
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = chaste
						}
						trait = lustful
					}
				}
				remove_trait = chaste
				add_trait = lustful
			}
			5 = {
				modifier = {
					factor = 0
					trait = gluttonous
				}
				remove_trait = temperate
				add_trait = gluttonous
			}
			5 = {
				modifier = {
					factor = 0
					trait = homosexual
				}
				add_trait = homosexual
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = weak
						}
						trait = strong
					}
				}
				remove_trait = weak
				add_trait = strong
			}
			8 = {
				character_event = {
					id = mutation.7
				}
			} #spines
			7 = {
				character_event = {
					id = mutation.20006
				}
			} #tongue
			80 = {
			}
		}
	}
	if = {
		limit = {
			society_member_of = cult_of_undivided
		}
		random_list = {
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = chaste
						}
						trait = lustful
					}
				}
				remove_trait = chaste
				add_trait = lustful
			}
			5 = {
				modifier = {
					factor = 0
					trait = gluttonous
				}
				remove_trait = temperate
				add_trait = gluttonous
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = weak
						}
						trait = strong
					}
				}
				remove_trait = weak
				add_trait = strong
			}
			8 = {
				character_event = {
					id = mutation.7
				}
			} #spines
			7 = {
				character_event = {
					id = mutation.20006
				}
			} #tongue
			80 = {
			}
		}
	}
}

create_league_effect = {
	primary_title = {
		hidden_tooltip = {
			# Hide tooltip because it would refer to old primary title
			# TODO: if already elective, do i need sneakiness for the cooldowns?
            succession_w_cooldown = feudal_elective
		}
		if = {
			limit = {
				has_dlc = "Zeus"
			}
	        add_law_w_cooldown = law_voting_power_1
	        add_law_w_cooldown = war_voting_power_1
	        add_law_w_cooldown = revoke_title_voting_power_1
            add_law_w_cooldown = succession_voting_power_1  # Allows feudal elective in Muslim & Indian realms :)

		}
	}
    any_opinion_modifier_target = {
        limit = {
            reverse_has_opinion_modifier = {
                who = PREV
                modifier = opinion_cofounder
			}
		}
        hidden_tooltip = {
            # Remove the computed opinion modifier
            reverse_remove_opinion = {
                who = PREV
                modifier = opinion_cofounder
			}
	        # Create a NAP
	        opinion = {
	            modifier = in_non_aggression_pact
	            years = 20
	            who = ROOT
	            origin_description = VOLUNTARY_LIEGE

			}
	        ROOT = {
	            opinion = {
	                modifier = in_non_aggression_pact
	                years = 20
	                who = PREV
	                origin_description = VOLUNTARY_VASSAL

				}

			}

		}
        set_defacto_liege = PREV
        # Todo: notify new vassals in case one of them is a player (or even give them the option of not joining)
	}
    custom_tooltip = {
    	text = NAPS_WITH_NEW_VASSALS
	}
    wipe_council_effect = yes
}

add_THIS_to_FROM_existing_league_effect = {
    set_defacto_liege = FROM
    opinion = {
        modifier = in_non_aggression_pact
        years = 20
        who = FROM
        origin_description = VOLUNTARY_LIEGE
	}
    FROM = {
        opinion = {
            modifier = in_non_aggression_pact
            years = 20
            who = ROOT
            origin_description = VOLUNTARY_VASSAL
		}
	}
}

wipe_council_effect = {
    custom_tooltip = {
        text = BYE_COUNCIL
        hidden_tooltip = {
            # Help both the player and AI remember that they need a new council, and allow free 'firing' of old council
            # (This is important with Conclave "Expects a council position" opinion modifier)
            job_chancellor = {
				remove_title = job_chancellor
			}
            job_marshal    = {
				remove_title = job_marshal
			}
            job_treasurer  = {
				remove_title = job_treasurer
			}
            job_spymaster  = {
				remove_title = job_spymaster
			}
            job_spiritual  = {
				remove_title = job_spiritual
			}
            # Remove Advisor, too, if any (requires conclave dlc, king rank, empowered council)
            any_vassal = {
                limit = {
                    has_minor_title = title_councilmember_king
				}
                remove_title = title_councilmember_king
			}
		}
	}
}

set_party_diplomacy_effect = {
	IF = {
		limit = {
			AND = {
				diplomacy = 1 NOT = {
					diplomacy = 2
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 1
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 2 NOT = {
					diplomacy = 3
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 2
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 3 NOT = {
					diplomacy = 4
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 3
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 4 NOT = {
					diplomacy = 5
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 4
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 5 NOT = {
					diplomacy = 6
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 5
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 6 NOT = {
					diplomacy = 7
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 6
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 7 NOT = {
					diplomacy = 8
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 7
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 8 NOT = {
					diplomacy = 9
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 8
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 9 NOT = {
					diplomacy = 10
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 9
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 10 NOT = {
					diplomacy = 11
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 10
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 11 NOT = {
					diplomacy = 12
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 11
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 12 NOT = {
					diplomacy = 13
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 12
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 13 NOT = {
					diplomacy = 14
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 13
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 14 NOT = {
					diplomacy = 15
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 14
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 15 NOT = {
					diplomacy = 16
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 15
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 16 NOT = {
					diplomacy = 17
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 16
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 17 NOT = {
					diplomacy = 18
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 17
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 18 NOT = {
					diplomacy = 19
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 18
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 19 NOT = {
					diplomacy = 20
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 19
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 20 NOT = {
					diplomacy = 21
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 20
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 21 NOT = {
					diplomacy = 22
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 21
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 22 NOT = {
					diplomacy = 23
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 22
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 23 NOT = {
					diplomacy = 24
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 23
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 24 NOT = {
					diplomacy = 25
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 24
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 25 NOT = {
					diplomacy = 26
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 25
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 26 NOT = {
					diplomacy = 27
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 26
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 27 NOT = {
					diplomacy = 28
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 27
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 28 NOT = {
					diplomacy = 29
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 28
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 29 NOT = {
					diplomacy = 30
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 29
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 30 NOT = {
					diplomacy = 31
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 30
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 31 NOT = {
					diplomacy = 32
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 31
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 32 NOT = {
					diplomacy = 33
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 32
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 33 NOT = {
					diplomacy = 34
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 33
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 34 NOT = {
					diplomacy = 35
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 34
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 35 NOT = {
					diplomacy = 36
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 35
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 36 NOT = {
					diplomacy = 37
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 36
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 37 NOT = {
					diplomacy = 38
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 37
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 38 NOT = {
					diplomacy = 39
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 38
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 39 NOT = {
					diplomacy = 40
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 39
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 40 NOT = {
					diplomacy = 41
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 40
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 41 NOT = {
					diplomacy = 42
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 41
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 42 NOT = {
					diplomacy = 43
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 42
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 43 NOT = {
					diplomacy = 44
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 43
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 44 NOT = {
					diplomacy = 45
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 44
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 45 NOT = {
					diplomacy = 46
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 45
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 46 NOT = {
					diplomacy = 47
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 46
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 47 NOT = {
					diplomacy = 48
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 47
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 48 NOT = {
					diplomacy = 49
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 48
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 49 NOT = {
					diplomacy = 50
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 49
			}
		}
	}
	IF = {
		limit = {
			AND = {
				diplomacy = 50 NOT = {
					diplomacy = 51
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_diplomacy value = 50
			}
		}
	}
}

set_party_martial_effect = {
	IF = {
		limit = {
			AND = {
				martial = 1 NOT = {
					martial = 2
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 1
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 2 NOT = {
					martial = 3
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 2
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 3 NOT = {
					martial = 4
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 3
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 4 NOT = {
					martial = 5
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 4
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 5 NOT = {
					martial = 6
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 5
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 6 NOT = {
					martial = 7
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 6
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 7 NOT = {
					martial = 8
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 7
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 8 NOT = {
					martial = 9
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 8
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 9 NOT = {
					martial = 10
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 9
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 10 NOT = {
					martial = 11
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 10
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 11 NOT = {
					martial = 12
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 11
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 12 NOT = {
					martial = 13
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 12
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 13 NOT = {
					martial = 14
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 13
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 14 NOT = {
					martial = 15
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 14
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 15 NOT = {
					martial = 16
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 15
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 16 NOT = {
					martial = 17
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 16
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 17 NOT = {
					martial = 18
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 17
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 18 NOT = {
					martial = 19
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 18
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 19 NOT = {
					martial = 20
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 19
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 20 NOT = {
					martial = 21
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 20
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 21 NOT = {
					martial = 22
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 21
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 22 NOT = {
					martial = 23
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 22
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 23 NOT = {
					martial = 24
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 23
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 24 NOT = {
					martial = 25
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 24
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 25 NOT = {
					martial = 26
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 25
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 26 NOT = {
					martial = 27
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 26
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 27 NOT = {
					martial = 28
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 27
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 28 NOT = {
					martial = 29
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 28
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 29 NOT = {
					martial = 30
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 29
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 30 NOT = {
					martial = 31
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 30
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 31 NOT = {
					martial = 32
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 31
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 32 NOT = {
					martial = 33
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 32
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 33 NOT = {
					martial = 34
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 33
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 34 NOT = {
					martial = 35
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 34
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 35 NOT = {
					martial = 36
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 35
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 36 NOT = {
					martial = 37
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 36
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 37 NOT = {
					martial = 38
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 37
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 38 NOT = {
					martial = 39
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 38
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 39 NOT = {
					martial = 40
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 39
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 40 NOT = {
					martial = 41
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 40
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 41 NOT = {
					martial = 42
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 41
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 42 NOT = {
					martial = 43
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 42
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 43 NOT = {
					martial = 44
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 43
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 44 NOT = {
					martial = 45
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 44
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 45 NOT = {
					martial = 46
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 45
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 46 NOT = {
					martial = 47
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 46
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 47 NOT = {
					martial = 48
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 47
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 48 NOT = {
					martial = 49
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 48
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 49 NOT = {
					martial = 50
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 49
			}
		}
	}
	IF = {
		limit = {
			AND = {
				martial = 50 NOT = {
					martial = 51
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_martial value = 50
			}
		}
	}
}

set_party_stewardship_effect = {
	IF = {
		limit = {
			AND = {
				stewardship = 1 NOT = {
					stewardship = 2
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 1
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 2 NOT = {
					stewardship = 3
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 2
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 3 NOT = {
					stewardship = 4
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 3
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 4 NOT = {
					stewardship = 5
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 4
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 5 NOT = {
					stewardship = 6
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 5
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 6 NOT = {
					stewardship = 7
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 6
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 7 NOT = {
					stewardship = 8
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 7
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 8 NOT = {
					stewardship = 9
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 8
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 9 NOT = {
					stewardship = 10
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 9
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 10 NOT = {
					stewardship = 11
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 10
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 11 NOT = {
					stewardship = 12
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 11
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 12 NOT = {
					stewardship = 13
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 12
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 13 NOT = {
					stewardship = 14
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 13
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 14 NOT = {
					stewardship = 15
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 14
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 15 NOT = {
					stewardship = 16
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 15
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 16 NOT = {
					stewardship = 17
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 16
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 17 NOT = {
					stewardship = 18
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 17
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 18 NOT = {
					stewardship = 19
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 18
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 19 NOT = {
					stewardship = 20
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 19
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 20 NOT = {
					stewardship = 21
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 20
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 21 NOT = {
					stewardship = 22
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 21
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 22 NOT = {
					stewardship = 23
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 22
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 23 NOT = {
					stewardship = 24
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 23
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 24 NOT = {
					stewardship = 25
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 24
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 25 NOT = {
					stewardship = 26
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 25
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 26 NOT = {
					stewardship = 27
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 26
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 27 NOT = {
					stewardship = 28
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 27
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 28 NOT = {
					stewardship = 29
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 28
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 29 NOT = {
					stewardship = 30
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 29
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 30 NOT = {
					stewardship = 31
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 30
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 31 NOT = {
					stewardship = 32
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 31
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 32 NOT = {
					stewardship = 33
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 32
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 33 NOT = {
					stewardship = 34
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 33
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 34 NOT = {
					stewardship = 35
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 34
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 35 NOT = {
					stewardship = 36
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 35
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 36 NOT = {
					stewardship = 37
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 36
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 37 NOT = {
					stewardship = 38
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 37
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 38 NOT = {
					stewardship = 39
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 38
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 39 NOT = {
					stewardship = 40
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 39
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 40 NOT = {
					stewardship = 41
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 40
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 41 NOT = {
					stewardship = 42
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 41
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 42 NOT = {
					stewardship = 43
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 42
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 43 NOT = {
					stewardship = 44
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 43
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 44 NOT = {
					stewardship = 45
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 44
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 45 NOT = {
					stewardship = 46
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 45
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 46 NOT = {
					stewardship = 47
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 46
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 47 NOT = {
					stewardship = 48
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 47
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 48 NOT = {
					stewardship = 49
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 48
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 49 NOT = {
					stewardship = 50
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 49
			}
		}
	}
	IF = {
		limit = {
			AND = {
				stewardship = 50 NOT = {
					stewardship = 51
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_stewardship value = 50
			}
		}
	}
}

set_party_intrigue_effect = {
	IF = {
		limit = {
			AND = {
				intrigue = 1 NOT = {
					intrigue = 2
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 1
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 2 NOT = {
					intrigue = 3
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 2
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 3 NOT = {
					intrigue = 4
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 3
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 4 NOT = {
					intrigue = 5
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 4
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 5 NOT = {
					intrigue = 6
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 5
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 6 NOT = {
					intrigue = 7
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 6
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 7 NOT = {
					intrigue = 8
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 7
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 8 NOT = {
					intrigue = 9
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 8
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 9 NOT = {
					intrigue = 10
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 9
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 10 NOT = {
					intrigue = 11
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 10
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 11 NOT = {
					intrigue = 12
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 11
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 12 NOT = {
					intrigue = 13
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 12
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 13 NOT = {
					intrigue = 14
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 13
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 14 NOT = {
					intrigue = 15
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 14
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 15 NOT = {
					intrigue = 16
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 15
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 16 NOT = {
					intrigue = 17
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 16
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 17 NOT = {
					intrigue = 18
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 17
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 18 NOT = {
					intrigue = 19
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 18
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 19 NOT = {
					intrigue = 20
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 19
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 20 NOT = {
					intrigue = 21
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 20
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 21 NOT = {
					intrigue = 22
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 21
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 22 NOT = {
					intrigue = 23
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 22
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 23 NOT = {
					intrigue = 24
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 23
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 24 NOT = {
					intrigue = 25
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 24
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 25 NOT = {
					intrigue = 26
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 25
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 26 NOT = {
					intrigue = 27
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 26
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 27 NOT = {
					intrigue = 28
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 27
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 28 NOT = {
					intrigue = 29
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 28
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 29 NOT = {
					intrigue = 30
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 29
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 30 NOT = {
					intrigue = 31
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 30
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 31 NOT = {
					intrigue = 32
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 31
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 32 NOT = {
					intrigue = 33
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 32
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 33 NOT = {
					intrigue = 34
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 33
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 34 NOT = {
					intrigue = 35
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 34
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 35 NOT = {
					intrigue = 36
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 35
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 36 NOT = {
					intrigue = 37
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 36
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 37 NOT = {
					intrigue = 38
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 37
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 38 NOT = {
					intrigue = 39
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 38
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 39 NOT = {
					intrigue = 40
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 39
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 40 NOT = {
					intrigue = 41
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 40
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 41 NOT = {
					intrigue = 42
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 41
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 42 NOT = {
					intrigue = 43
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 42
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 43 NOT = {
					intrigue = 44
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 43
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 44 NOT = {
					intrigue = 45
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 44
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 45 NOT = {
					intrigue = 46
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 45
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 46 NOT = {
					intrigue = 47
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 46
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 47 NOT = {
					intrigue = 48
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 47
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 48 NOT = {
					intrigue = 49
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 48
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 49 NOT = {
					intrigue = 50
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 49
			}
		}
	}
	IF = {
		limit = {
			AND = {
				intrigue = 50 NOT = {
					intrigue = 51
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_intrigue value = 50
			}
		}
	}
}

set_party_learning_effect = {
	IF = {
		limit = {
			AND = {
				learning = 1 NOT = {
					learning = 2
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 1
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 2 NOT = {
					learning = 3
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 2
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 3 NOT = {
					learning = 4
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 3
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 4 NOT = {
					learning = 5
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 4
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 5 NOT = {
					learning = 6
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 5
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 6 NOT = {
					learning = 7
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 6
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 7 NOT = {
					learning = 8
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 7
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 8 NOT = {
					learning = 9
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 8
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 9 NOT = {
					learning = 10
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 9
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 10 NOT = {
					learning = 11
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 10
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 11 NOT = {
					learning = 12
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 11
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 12 NOT = {
					learning = 13
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 12
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 13 NOT = {
					learning = 14
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 13
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 14 NOT = {
					learning = 15
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 14
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 15 NOT = {
					learning = 16
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 15
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 16 NOT = {
					learning = 17
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 16
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 17 NOT = {
					learning = 18
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 17
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 18 NOT = {
					learning = 19
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 18
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 19 NOT = {
					learning = 20
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 19
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 20 NOT = {
					learning = 21
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 20
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 21 NOT = {
					learning = 22
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 21
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 22 NOT = {
					learning = 23
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 22
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 23 NOT = {
					learning = 24
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 23
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 24 NOT = {
					learning = 25
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 24
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 25 NOT = {
					learning = 26
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 25
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 26 NOT = {
					learning = 27
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 26
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 27 NOT = {
					learning = 28
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 27
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 28 NOT = {
					learning = 29
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 28
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 29 NOT = {
					learning = 30
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 29
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 30 NOT = {
					learning = 31
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 30
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 31 NOT = {
					learning = 32
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 31
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 32 NOT = {
					learning = 33
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 32
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 33 NOT = {
					learning = 34
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 33
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 34 NOT = {
					learning = 35
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 34
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 35 NOT = {
					learning = 36
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 35
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 36 NOT = {
					learning = 37
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 36
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 37 NOT = {
					learning = 38
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 37
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 38 NOT = {
					learning = 39
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 38
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 39 NOT = {
					learning = 40
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 39
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 40 NOT = {
					learning = 41
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 40
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 41 NOT = {
					learning = 42
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 41
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 42 NOT = {
					learning = 43
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 42
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 43 NOT = {
					learning = 44
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 43
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 44 NOT = {
					learning = 45
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 44
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 45 NOT = {
					learning = 46
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 45
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 46 NOT = {
					learning = 47
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 46
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 47 NOT = {
					learning = 48
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 47
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 48 NOT = {
					learning = 49
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 48
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 49 NOT = {
					learning = 50
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 49
			}
		}
	}
	IF = {
		limit = {
			AND = {
				learning = 50 NOT = {
					learning = 51
				}
			}
		}
		FROM = {
			change_variable = {
				which = party_learning value = 50
			}
		}
	}
}

root_makes_from_vampire_effect = {
	hidden_tooltip = {
		FROM = {
			set_variable = {
				which = khornefavor value = 0
			}
			set_variable = {
				which = nurglefavor value = 0
			}
			set_variable = {
				which = slaaneshfavor value = 0
			}
			set_variable = {
				which = tzeentchfavor value = 0
			}
			set_variable = {
				which = "khorne_favor" value = 0
			}
			set_variable = {
				which = "nurgle_favor" value = 0
			}
			set_variable = {
				which = "slaanesh_favor" value = 0
			}
			set_variable = {
				which = "tzeentch_favor" value = 0
			}
			clr_character_flag = hidden_cultist_tzeentch3
			clr_character_flag = hidden_cultist_tzeentch2
			clr_character_flag = hidden_cultist_tzeentch
			clr_character_flag = hidden_cultist_nurgle3
			clr_character_flag = hidden_cultist_nurgle2
			clr_character_flag = hidden_cultist_nurgle
			clr_character_flag = hidden_cultist_slaanesh3
			clr_character_flag = hidden_cultist_slaanesh2
			clr_character_flag = hidden_cultist_slaanesh
			clr_character_flag = hidden_cultist_khorne3
			clr_character_flag = hidden_cultist_khorne2
			clr_character_flag = hidden_cultist_khorne
			clr_character_flag = hidden_cultist_undivided3
			clr_character_flag = hidden_cultist_undivided2
			clr_character_flag = hidden_cultist_undivided
		}
	}
	if = {
		limit = {
			FROM = {
				dynasty = 0
			}
			ROOT = {
				is_female = no
			}
		}
		FROM = {
			dynasty = ROOT
			set_father = ROOT
		}
	}
	if = {
		limit = {
			FROM = {
				dynasty = 0
			}
			ROOT = {
				is_female = yes
			}
		}
		FROM = {
			dynasty = ROOT
			set_mother = ROOT
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_lahmian_visible
				trait = vampire_lahmian_hidden
			}
			FROM = {
				age = 16
			}
		}
		FROM = {
			add_trait = vampire_lahmian_visible
			set_graphical_culture = lahmian_vampire
		}
		FROM = {
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_lahmian_visible
				trait = vampire_lahmian_hidden
			}
			FROM = {
				NOT = {
					age = 16
				}
			}
		}
		FROM = {
			add_trait = vampire_lahmian_visible
			set_graphical_culture = kid_vampire_lahmian
		}
		FROM = {
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_strigoi_visible
				trait = vampire_strigoi_hidden
			}
		}
		FROM = {
			add_trait = vampire_strigoi_visible
			set_graphical_culture = strigoi_vampire
		}
		FROM = {
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_carstein_visible
				trait = vampire_carstein_hidden
			}
			FROM = {
				age = 16
			}
		}
		FROM = {
			add_trait = vampire_carstein_visible
			set_graphical_culture = generic_vampire
		}
		FROM = {
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_carstein_visible
				trait = vampire_carstein_hidden
			}
			FROM = {
				NOT = {
					age = 16
				}
			}
		}
		FROM = {
			add_trait = vampire_carstein_visible
			set_graphical_culture = kid_vampire
		}
		FROM = {
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_blood_visible
				trait = vampire_blood_hidden
			}
			culture = blooddragons_culture
		}
		FROM = {
			add_trait = vampire_blood_visible
			culture = blooddragons_culture
			set_graphical_culture = blood_vampire
		}
		FROM = {
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_blood_visible
				trait = vampire_blood_hidden
			}
			culture_group = sartosan_group
			has_character_flag = vampire_pirate
		}
		FROM = {
			add_trait = vampire_blood_visible
			set_character_flag = vampire_pirate
			culture = ROOT
			set_graphical_culture = blood_vampire
		}
		FROM = {
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_necrarch_visible
				trait = vampire_necrarch_hidden
			}
		}
		FROM = {
			add_trait = vampire_necrarch_visible
			set_graphical_culture = necrarch_vampire
		}
		FROM = {
			religion = nagashi
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_jade_visible
				trait = vampire_jade_hidden
			}
		}
		FROM = {
			add_trait = vampire_jade_visible
			culture = living_jade
			set_graphical_culture = jade_vampire
			random_list = {
				25 = {
					add_trait = celibate
				}
				25 = {
					add_trait = chaste
				}
				50 = {
				}
			}
		}
		FROM = {
			religion = ROOT
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_mahtmasi_visible
				trait = vampire_mahtmasi_hidden
			}
		}
		random_list = {
			60 = {
				ROOT = {
					character_event = {
						id = svampires.79001 days = 1 random = 1
					}
				}
				FROM = {
					character_event = {
						id = svampires.79 days = 1 random = 1
					}
				}
			} #Success
			40 = {
				modifier = {
					factor = 0.5
					FROM = {
						trait = strong
					}
				}
				modifier = {
					factor = 0.75
					FROM = {
						trait = tough
					}
				}
				modifier = {
					factor = 0.85
					FROM = {
						trait = hardy
					}
				}
				modifier = {
					factor = 1.25
					FROM = {
						trait = soft
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						trait = fragile
					}
				}
				modifier = {
					factor = 1.75
					FROM = {
						trait = weak
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						trait = stressed
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						is_ill = yes
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						trait = infirm
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						trait = maimed
					}
				}
				ROOT = {
					character_event = {
						id = svampires.80001 days = 1 random = 1
					}
				}
				FROM = {
					character_event = {
						id = svampires.80 days = 1 random = 1
					}
				}
			} #Failure

		}
		FROM = {
			add_trait = vampire_mahtmasi_visible
			set_graphical_culture = mahtmasi_vampire
			add_trait = incapable
		}
		FROM = {
			religion = shadowmen
		}
	}
	hidden_tooltip = {
		FROM = {
			remove_trait = old_1
			remove_trait = old_2
			remove_trait = old_3
			remove_trait = old_4
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_blood_visible
				trait = vampire_blood_hidden
			}
			FROM = {
				NOR = {
					trait = weak
					trait = fragile
					trait = soft
					trait = maimed
					trait = incapable
					trait = blinded
					trait = eunuch
					trait = undernourished
					trait = fat
					trait = addict
					NOT = {
						martial = 10
					}
				}
			}
		}
		change_variable = {
			which = "blooddragon_reserve" value = 1
		}
	}
}

from_makes_root_vampire_effect = {
	hidden_tooltip = {
		set_variable = {
			which = khornefavor value = 0
		}
		set_variable = {
			which = nurglefavor value = 0
		}
		set_variable = {
			which = slaaneshfavor value = 0
		}
		set_variable = {
			which = tzeentchfavor value = 0
		}
		set_variable = {
			which = "khorne_favor" value = 0
		}
		set_variable = {
			which = "nurgle_favor" value = 0
		}
		set_variable = {
			which = "slaanesh_favor" value = 0
		}
		set_variable = {
			which = "tzeentch_favor" value = 0
		}
		clr_character_flag = hidden_cultist_tzeentch3
		clr_character_flag = hidden_cultist_tzeentch2
		clr_character_flag = hidden_cultist_tzeentch
		clr_character_flag = hidden_cultist_nurgle3
		clr_character_flag = hidden_cultist_nurgle2
		clr_character_flag = hidden_cultist_nurgle
		clr_character_flag = hidden_cultist_slaanesh3
		clr_character_flag = hidden_cultist_slaanesh2
		clr_character_flag = hidden_cultist_slaanesh
		clr_character_flag = hidden_cultist_khorne3
		clr_character_flag = hidden_cultist_khorne2
		clr_character_flag = hidden_cultist_khorne
		clr_character_flag = hidden_cultist_undivided3
		clr_character_flag = hidden_cultist_undivided2
		clr_character_flag = hidden_cultist_undivided
	}
	if = {
		limit = {
			ROOT = {
				dynasty = 0
			}
			FROM = {
				is_female = no
			}
		}
		ROOT = {
			dynasty = FROM
			set_father = FROM
		}
	}
	if = {
		limit = {
			ROOT = {
				dynasty = 0
			}
			FROM = {
				is_female = yes
			}
		}
		ROOT = {
			dynasty = FROM
			set_mother = FROM
		}
	}
	if = {
		limit = {
			FROM = {
				OR = {
					trait = vampire_lahmian_visible
					trait = vampire_lahmian_hidden
				}
			}
			age = 16
		}
		add_trait = vampire_lahmian_visible
		set_graphical_culture = lahmian_vampire
		religion = vampiric
	}
	if = {
		limit = {
			FROM = {
				OR = {
					trait = vampire_lahmian_visible
					trait = vampire_lahmian_hidden
				}
			}
			NOT = {
				age = 16
			}
		}
		add_trait = vampire_lahmian_visible
		set_graphical_culture = kid_vampire_lahmian
		religion = vampiric
	}
	if = {
		limit = {
			FROM = {
				OR = {
					trait = vampire_carstein_visible
					trait = vampire_carstein_hidden
				}
			}
			age = 16
		}
		add_trait = vampire_carstein_visible
		set_graphical_culture = generic_vampire
		religion = vampiric
	}
	if = {
		limit = {
			FROM = {
				OR = {
					trait = vampire_carstein_visible
					trait = vampire_carstein_hidden
				}
			}
			NOT = {
				age = 16
			}
		}
		add_trait = vampire_carstein_visible
		set_graphical_culture = kid_vampire
		religion = vampiric
	}
	if = {
		limit = {
			FROM = {
				OR = {
					trait = vampire_strigoi_visible
					trait = vampire_strigoi_hidden
				}
			}
		}
		add_trait = vampire_strigoi_visible
		set_graphical_culture = strigoi_vampire
		religion = vampiric
	}
	if = {
		limit = {
			FROM = {
				OR = {
					trait = vampire_blood_visible
					trait = vampire_blood_hidden
				}
				culture = blooddragons_culture
			}
		}
		add_trait = vampire_blood_visible
		set_graphical_culture = blood_vampire
		culture = blooddragons_culture
		religion = vampiric
	}
	if = {
		limit = {
			FROM = {
				OR = {
					trait = vampire_blood_visible
					trait = vampire_blood_hidden
				}
				culture_group = sartosan_group
				has_character_flag = vampire_pirate
			}
		}
		add_trait = vampire_blood_visible
		set_character_flag = vampire_pirate
		set_graphical_culture = blood_vampire
		culture = FROM
		religion = vampiric
	}
	if = {
		limit = {
			FROM = {
				OR = {
					trait = vampire_necrarch_visible
					trait = vampire_necrarch_hidden
				}
			}
		}
		add_trait = vampire_necrarch_visible
		set_graphical_culture = necrarch_vampire
		religion = nagashi
	}
	if = {
		limit = {
			FROM = {
				OR = {
					trait = vampire_jade_visible
					trait = vampire_jade_hidden
				}
			}
		}
		add_trait = vampire_jade_visible
		culture = living_jade
		set_graphical_culture = jade_vampire
		religion = FROM
		random_list = {
			25 = {
				add_trait = celibate
			}
			25 = {
				add_trait = chaste
			}
			50 = {
			}
		}
	}
	if = {
		limit = {
			FROM = {
				OR = {
					trait = vampire_mahtmasi_visible
					trait = vampire_mahtmasi_hidden
				}
			}
		}
		add_trait = vampire_mahtmasi_visible
		set_graphical_culture = mahtmasi_vampire
		religion = shadowmen
		random_list = {
			60 = {
				character_event = {
					id = svampires.79 days = 1 random = 1
				}
				FROM = {
					character_event = {
						id = svampires.79001 days = 1 random = 1
					}
				}
			} #Success
			40 = {
				modifier = {
					factor = 0.5
					trait = strong
				}
				modifier = {
					factor = 0.75
					trait = tough
				}
				modifier = {
					factor = 0.85
					trait = hardy
				}
				modifier = {
					factor = 1.25
					trait = soft
				}
				modifier = {
					factor = 1.5
					trait = fragile
				}
				modifier = {
					factor = 1.75
					trait = weak
				}
				modifier = {
					factor = 1.5
					trait = stressed
				}
				modifier = {
					factor = 1.5
					is_ill = yes
				}
				modifier = {
					factor = 1.5
					trait = infirm
				}
				modifier = {
					factor = 1.5
					trait = maimed
				}
				character_event = {
					id = svampires.80 days = 1 random = 1
				}
				FROM = {
					character_event = {
						id = svampires.80001 days = 1 random = 1
					}
				}
			} #Failure

		}
		add_trait = incapable
	}
	hidden_tooltip = {
		remove_trait = old_1
		remove_trait = old_2
		remove_trait = old_3
		remove_trait = old_4
	}
	if = {
		limit = {
			FROM = {
				OR = {
					trait = vampire_blood_visible
					trait = vampire_blood_hidden
				}
			}
			NOR = {
				trait = weak
				trait = fragile
				trait = soft
				trait = maimed
				trait = incapable
				trait = blinded
				trait = eunuch
				trait = undernourished
				trait = fat
				trait = addict
				NOT = {
					martial = 10
				}
			}
		}
		FROM = {
			change_variable = {
				which = "blooddragon_reserve" value = 1
			}
		}
	}
}

fromfrom_makes_root_vampire_effect = {
	set_variable = {
		which = khornefavor value = 0
	}
	set_variable = {
		which = nurglefavor value = 0
	}
	set_variable = {
		which = slaaneshfavor value = 0
	}
	set_variable = {
		which = tzeentchfavor value = 0
	}
	set_variable = {
		which = "khorne_favor" value = 0
	}
	set_variable = {
		which = "nurgle_favor" value = 0
	}
	set_variable = {
		which = "slaanesh_favor" value = 0
	}
	set_variable = {
		which = "tzeentch_favor" value = 0
	}
	clr_character_flag = hidden_cultist_tzeentch3
	clr_character_flag = hidden_cultist_tzeentch2
	clr_character_flag = hidden_cultist_tzeentch
	clr_character_flag = hidden_cultist_nurgle3
	clr_character_flag = hidden_cultist_nurgle2
	clr_character_flag = hidden_cultist_nurgle
	clr_character_flag = hidden_cultist_slaanesh3
	clr_character_flag = hidden_cultist_slaanesh2
	clr_character_flag = hidden_cultist_slaanesh
	clr_character_flag = hidden_cultist_khorne3
	clr_character_flag = hidden_cultist_khorne2
	clr_character_flag = hidden_cultist_khorne
	clr_character_flag = hidden_cultist_undivided3
	clr_character_flag = hidden_cultist_undivided2
	clr_character_flag = hidden_cultist_undivided
	if = {
		limit = {
			ROOT = {
				dynasty = 0
			}
			FROMFROM = {
				is_female = no
			}
		}
		ROOT = {
			dynasty = FROMFROM
			set_father = FROMFROM
		}
	}
	if = {
		limit = {
			ROOT = {
				dynasty = 0
			}
			FROMFROM = {
				is_female = yes
			}
		}
		ROOT = {
			dynasty = FROMFROM
			set_mother = FROMFROM
		}
	}
	if = {
		limit = {
			FROMFROM = {
				OR = {
					trait = vampire_lahmian_visible
					trait = vampire_lahmian_hidden
				}
			}
			age = 16
		}
		add_trait = vampire_lahmian_visible
		set_graphical_culture = lahmian_vampire
		religion = vampiric
	}
	if = {
		limit = {
			FROMFROM = {
				OR = {
					trait = vampire_lahmian_visible
					trait = vampire_lahmian_hidden
				}
			}
			NOT = {
				age = 16
			}
		}
		add_trait = vampire_lahmian_visible
		set_graphical_culture = kid_lahmian_vampire
		religion = vampiric
	}
	if = {
		limit = {
			FROMFROM = {
				OR = {
					trait = vampire_strigoi_visible
					trait = vampire_strigoi_hidden
				}
			}
		}
		add_trait = vampire_strigoi_visible
		set_graphical_culture = strigoi_vampire
		religion = vampiric
	}
	if = {
		limit = {
			FROMFROM = {
				OR = {
					trait = vampire_carstein_visible
					trait = vampire_carstein_hidden
				}
			}
			age = 16
		}
		add_trait = vampire_carstein_visible
		set_graphical_culture = generic_vampire
		religion = vampiric
	}
	if = {
		limit = {
			FROMFROM = {
				OR = {
					trait = vampire_carstein_visible
					trait = vampire_carstein_hidden
				}
			}
			NOT = {
				age = 16
			}
		}
		add_trait = vampire_carstein_visible
		set_graphical_culture = kid_vampire
		religion = vampiric
	}
	if = {
		limit = {
			FROMFROM = {
				OR = {
					trait = vampire_blood_visible
					trait = vampire_blood_hidden
				}
				culture = blooddragons_culture
			}
		}
		add_trait = vampire_blood_visible
		set_graphical_culture = blood_vampire
		culture = blooddragons_culture
		religion = vampiric
	}
	if = {
		limit = {
			FROMFROM = {
				OR = {
					trait = vampire_blood_visible
					trait = vampire_blood_hidden
				}
				culture_group = sartosan_group
				has_character_flag = vampire_pirate
			}
		}
		add_trait = vampire_blood_visible
		set_graphical_culture = blood_vampire
		set_character_flag = vampire_pirate
		culture = FROMFROM
		religion = vampiric
	}
	if = {
		limit = {
			FROMFROM = {
				OR = {
					trait = vampire_necrarch_visible
					trait = vampire_necrarch_hidden
				}
			}
		}
		add_trait = vampire_necrarch_visible
		set_graphical_culture = necrarch_vampire
		religion = nagashi
	}
	if = {
		limit = {
			FROMFROM = {
				OR = {
					trait = vampire_jade_visible
					trait = vampire_jade_hidden
				}
			}
		}
		add_trait = vampire_jade_visible
		culture = living_jade
		set_graphical_culture = jade_vampire
		religion = FROMFROM
		random_list = {
			25 = {
				add_trait = celibate
			}
			25 = {
				add_trait = chaste
			}
			50 = {
			}
		}
	}
	if = {
		limit = {
			FROMFROM = {
				OR = {
					trait = vampire_mahtmasi_visible
					trait = vampire_mahtmasi_hidden
				}
			}
		}
		add_trait = vampire_mahtmasi_visible
		set_graphical_culture = mahtmasi_vampire
		religion = shadowmen
		random_list = {
			60 = {
				character_event = {
					id = svampires.79 days = 1 random = 1
				}
				FROMFROM = {
					character_event = {
						id = svampires.79001 days = 1 random = 1
					}
				}
			} #Success
			40 = {
				modifier = {
					factor = 0.5
					trait = strong
				}
				modifier = {
					factor = 0.75
					trait = tough
				}
				modifier = {
					factor = 0.85
					trait = hardy
				}
				modifier = {
					factor = 1.25
					trait = soft
				}
				modifier = {
					factor = 1.5
					trait = fragile
				}
				modifier = {
					factor = 1.75
					trait = weak
				}
				modifier = {
					factor = 1.5
					trait = stressed
				}
				modifier = {
					factor = 1.5
					is_ill = yes
				}
				modifier = {
					factor = 1.5
					trait = infirm
				}
				modifier = {
					factor = 1.5
					trait = maimed
				}
				character_event = {
					id = svampires.80 days = 1 random = 1
				}
				FROMFROM = {
					character_event = {
						id = svampires.80001 days = 1 random = 1
					}
				}
			} #Failure

		}
		add_trait = incapable
	}
	remove_trait = old_1
	remove_trait = old_2
	remove_trait = old_3
	remove_trait = old_4
	if = {
		limit = {
			FROMFROM = {
				OR = {
					trait = vampire_blood_visible
					trait = vampire_blood_hidden
				}
			}
			NOR = {
				trait = weak
				trait = fragile
				trait = soft
				trait = maimed
				trait = incapable
				trait = blinded
				trait = eunuch
				trait = undernourished
				trait = fat
				trait = addict
				NOT = {
					martial = 10
				}
			}
		}
		FROMFROM = {
			change_variable = {
				which = "blooddragon_reserve" value = 1
			}
		}
	}
}

antideath_effect = {
	if = {
		limit = {
			has_artifact = carstein_ring
		}
		character_event = {
			id = carstein.13 days = 1
		}
		break = yes
	}
	if = {
		limit = {
			trait = creature_celdragon
		}
		break = yes
	}
	if = {
		limit = {
			trait = khemri_tomb_king
		}
 		character_event = {
			id = snehekharan.1 days = 1
		}
		break = yes
	}
	if = {
		limit = {
			trait = black_arkhan
		}
 		character_event = {
			id = snehekharan.1 days = 1
		}
		break = yes
	}
}

magic_cooldown = {
	set_variable = {
		which = "magic_cooldown" value = 0
	}
	if = {
		limit = {
			trait = magic_potential_1
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			trait = magic_potential_2
		}
		change_variable = {
			which = "magic_cooldown" value = 2
		}
	}
	if = {
		limit = {
			trait = magic_potential_3
		}
		change_variable = {
			which = "magic_cooldown" value = 3
		}
	}
	if = {
		limit = {
			trait = magic_potential_4
		}
		change_variable = {
			which = "magic_cooldown" value = 4
		}
	}
	if = {
		limit = {
			learning = 5
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 10
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 15
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 20
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 25
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 30
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 35
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 40
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 45
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 50
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 55
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 60
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 65
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 70
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 75
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 80
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 85
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 90
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 95
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			learning = 100
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			trait = skink_priest
		}
		change_variable = {
			which = "magic_cooldown" value = 3
		}
	}
	if = {
		limit = {
			trait = creature_slann
		}
		change_variable = {
			which = "magic_cooldown" value = 5
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_1
		}
		change_variable = {
			which = "magic_cooldown" value = 1
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_2
		}
		change_variable = {
			which = "magic_cooldown" value = 2
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_3
		}
		change_variable = {
			which = "magic_cooldown" value = 3
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_4
		}
		change_variable = {
			which = "magic_cooldown" value = 4
		}
	}
	if = {
		limit = {
			trait = grey_seer
		}
		change_variable = {
			which = "magic_cooldown" value = 3
		}
	}
	if = {
		limit = {
			trait = creature_slann
		}
		change_variable = {
			which = "magic_cooldown" value = 5
		}
	}
}

dispel_setup_effect = {
	if = {
		limit ={
			any_character = {
			    in_command = yes
			    war_with = root
			    at_location = event_target:spellloc
			    or = {
			     	and = {
			     		or = {
			     			has_character_modifier = magic_power_4
			     			has_character_modifier = magic_power_3
			     			has_character_modifier = magic_power_2
			     			has_character_modifier = magic_power_1
			     			trait = warlock_engineer

						}
			     		not = {
			     			has_character_modifier = dispel_cooldown

						}

					}
			     	has_character_modifier = z_light_magic_wards_of_light

				}
			}
		}
		any_character = {
			limit = {
			    in_command = yes
			    war_with = root
			    at_location = event_target:spellloc
			    or = {
			     	and = {
			     		or = {
			     			has_character_modifier = magic_power_4
			     			has_character_modifier = magic_power_3
			     			has_character_modifier = magic_power_2
			     			has_character_modifier = magic_power_1
			     			trait = warlock_engineer

						}
			     		not = {
			     			has_character_modifier = dispel_cooldown

						}

					}
			     	has_character_modifier = z_light_magic_wards_of_light

				}
			}
			save_event_target_as = magic_dispeler
			magic_points_setup = yes
			magic_xp_counter = yes
		}
		event_target:magic_caster = {
			set_character_flag = has_dispel
		}
	}
}

dispel_saving_roll_30 = {
	random_list = {
		30 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 1
					}
				}
			}
			modifier = {
			    factor = 1.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 2
					}
				}
			}
			modifier = {
			    factor = 1.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 3
					}
				}
			}
			modifier = {
			    factor = 1.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 4
					}
				}
			}
			modifier = {
			    factor = 1.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 5
					}
				}
			}
			modifier = {
			    factor = 1.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 6
					}
				}
			}
			modifier = {
			    factor = 1.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 7
					}
				}
			}
			modifier = {
			    factor = 1.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 8
					}
				}
			}
			modifier = {
			    factor = 1.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 9
					}
				}
			}
			modifier = {
			    factor = 2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 10
					}
				}
			}
			modifier = {
				factor = 2.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 11
					}
				}
			}
			modifier = {
			    factor = 2.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 12
					}
				}
			}
			modifier = {
			    factor = 2.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 13
					}
				}
			}
			modifier = {
			    factor = 2.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 14
					}
				}
			}
			modifier = {
			    factor = 2.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 15
					}
				}
			}
			modifier = {
			    factor = 2.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 16
					}
				}
			}
			modifier = {
			    factor = 2.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 17
					}
				}
			}
			modifier = {
			    factor = 2.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 18
					}
				}
			}
			modifier = {
			    factor = 2.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 19
					}
				}
			}
			modifier = {
			    factor = 3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 20
					}
				}
			}
			modifier = {
			    factor = 3.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 21
					}
				}
			}
			modifier = {
			    factor = 3.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 22
					}
				}
			}
			modifier = {
			    factor = 3.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 23
					}
				}
			}
			modifier = {
			    factor = 3.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 24
					}
				}
			}
			modifier = {
			    factor = 3.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 25
					}
				}
			}
			modifier = {
			    factor = 3.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 26
					}
				}
			}
			modifier = {
			    factor = 3.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 27
					}
				}
			}
			modifier = {
			    factor = 3.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 28
					}
				}
			}
			modifier = {
			    factor = 3.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 29
					}
				}
			}
			modifier = {
			    factor = 4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 30
					}
				}
			}
			ROOT = {
			    event_target:magic_caster = {
					set_character_flag = dispeled
				}
			}
			event_target:magic_dispeler = {

			    change_variable = {
					which = "magicxp" value = 1
				}
			    character_event = {
					id = magic_system.99998
				}
			}
		}
		70 = {
			modifier = {
		     	factor = 1.1
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 1
					}
				}

			}
		    modifier = {
		     	factor = 1.2
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 2
					}
				}

			}
		    modifier = {
		     	factor = 1.3
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 3
					}
				}

			}
		    modifier = {
		     	factor = 1.4
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 4
					}
				}

			}
		    modifier = {
		     	factor = 1.5
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 5
					}
				}

			}
		    modifier = {
		     	factor = 1.6
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 6
					}
				}

			}
		    modifier = {
		     	factor = 1.7
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 7
					}
				}

			}
		    modifier = {
		     	factor = 1.8
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 8
					}
				}

			}
		    modifier = {
		     	factor = 1.9
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 9
					}
				}

			}
		    modifier = {
		     	factor = 2
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 10
					}
				}

			}
		    modifier = {
		     	factor = 2.1
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 11
					}
				}

			}
		    modifier = {
		     	factor = 2.2
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 12
					}
				}

			}
		    modifier = {
		     	factor = 2.3
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 13
					}
				}

			}
		    modifier = {
		     	factor = 2.4
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 14
					}
				}

			}
		    modifier = {
		     	factor = 2.5
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 15
					}
				}

			}
		    modifier = {
		     	factor = 2.6
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 16
					}
				}

			}
		    modifier = {
		     	factor = 2.7
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 17
					}
				}

			}
		    modifier = {
		     	factor = 2.8
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 18
					}
				}

			}
		    modifier = {
		     	factor = 2.9
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 19
					}
				}

			}
		    modifier = {
		     	factor = 3
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 20
					}
				}

			}
		    modifier = {
		     	factor = 3.1
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 21
					}
				}

			}
		    modifier = {
		     	factor = 3.2
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 22
					}
				}

			}
		    modifier = {
		     	factor = 3.3
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 23
					}
				}

			}
		    modifier = {
		     	factor = 3.4
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 24
					}
				}

			}
			modifier = {
			    factor = 3.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 30
					}
				}

			}
			event_target:magic_caster = {
			    change_variable = {
					which = "magicxp" value = 1
				}

			}
		}
	}
}

dispel_saving_roll_40 = {
	random_list = {
		40 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 4
					}
				}
			}			     modifier = {
			    factor = 1.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 14
					}
				}
			}			     modifier = {
			    factor = 2.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 24
					}
				}
			}			     modifier = {
			    factor = 3.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 30
					}
				}

			}
			ROOT = {
			    event_target:magic_caster = {
					set_character_flag = dispeled
				}

			}
			event_target:magic_dispeler = {

			    change_variable = {
					which = "magicxp" value = 1
				}
			    character_event = {
					id = magic_system.99998
				}

			}
		}
		60 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 4
					}
				}

			}
			modifier = {
			    factor = 1.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 14
					}
				}

			}
			modifier = {
			    factor = 2.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 24
					}
				}

			}
			modifier = {
			    factor = 3.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 30
					}
				}

			}
			event_target:magic_caster = {
			    change_variable = {
					which = "magicxp" value = 1
				}

			}
		}
	}
}

dispel_saving_roll_50 = {
	random_list = {
		50 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 4
					}
				}
			}			     modifier = {
			    factor = 1.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 14
					}
				}
			}			     modifier = {
			    factor = 2.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 24
					}
				}
			}			     modifier = {
			    factor = 3.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 30
					}
				}

			}
			ROOT = {
			    event_target:magic_caster = {
					set_character_flag = dispeled
				}

			}
			event_target:magic_dispeler = {

			    change_variable = {
					which = "magicxp" value = 1
				}
			    character_event = {
					id = magic_system.99998
				}

			}
		}
		50 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 4
					}
				}

			}
			modifier = {
			    factor = 1.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 14
					}
				}

			}
			modifier = {
			    factor = 2.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 24
					}
				}

			}
			modifier = {
			    factor = 3.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 30
					}
				}

			}
			event_target:magic_caster = {
			    change_variable = {
					which = "magicxp" value = 1
				}

			}
		}
	}
}

dispel_saving_roll_60 = {
	random_list = {
		60 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 4
					}
				}
			}			     modifier = {
			    factor = 1.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 14
					}
				}
			}			     modifier = {
			    factor = 2.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 24
					}
				}
			}			     modifier = {
			    factor = 3.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 30
					}
				}

			}
			ROOT = {
			    event_target:magic_caster = {
					set_character_flag = dispeled
				}

			}
			event_target:magic_dispeler = {

			    change_variable = {
					which = "magicxp" value = 1
				}
			    character_event = {
					id = magic_system.99998
				}

			}
		}
		40 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 4
					}
				}

			}
			modifier = {
			    factor = 1.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 14
					}
				}

			}
			modifier = {
			    factor = 2.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 24
					}
				}

			}
			modifier = {
			    factor = 3.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 30
					}
				}

			}
			event_target:magic_caster = {
			    change_variable = {
					which = "magicxp" value = 1
				}

			}
		}
	}
}

dispel_saving_roll_70 = {
	random_list = {
		70 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 4
					}
				}
			}			     modifier = {
			    factor = 1.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 14
					}
				}
			}			     modifier = {
			    factor = 2.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 24
					}
				}
			}
			modifier = {
			    factor = 3.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel" value = 30
					}
				}

			}
			ROOT = {
			    event_target:magic_caster = {
					set_character_flag = dispeled
				}

			}
			event_target:magic_dispeler = {

			    change_variable = {
					which = "magicxp" value = 1
				}
			    character_event = {
					id = magic_system.99998
				}

			}
		}
		30 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 4
					}
				}

			}
			modifier = {
			    factor = 1.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 14
					}
				}

			}
			modifier = {
			    factor = 2.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 24
					}
				}

			}
			modifier = {
			    factor = 3.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel" value = 30
					}
				}

			}
			event_target:magic_caster = {
			    change_variable = {
					which = "magicxp" value = 1
				}

			}
		}
	}
}

z_duel_menu_clr = {
	clr_character_flag = duel_action_meele
    clr_character_flag = duel_action_dodge
    clr_character_flag = duel_action_block
    clr_character_flag = duel_action_assess
    clr_character_flag = magic_channel
    clr_character_flag = high_magic_duel_healing
    clr_character_flag = high_magic_duel_shielding
    clr_character_flag = high_magic_duel_fire
    clr_character_flag = high_magic_duel_curse
    set_variable = {
		which = "action_nr" value = 0
	}
    set_variable = {
		which = "action_picked" value = 0
	}
    # BASIC ACTIONS
    set_variable = {
		which = "d_action_meele_strike" value = 0
	}
    set_variable = {
		which = "d_action_dodge" value = 0
	}
    set_variable = {
		which = "d_action_parry" value = 0
	}
    set_variable = {
		which = "d_action_assess" value = 0
	}
    set_variable = {
		which = "d_action_channel" value = 0
	}
    #Magic Actions, High Magic
    set_variable = {
		which = "d_action_high_magic_healing" value = 0
	}
    set_variable = {
		which = "d_action_high_magic_shielding" value = 0
	}
    set_variable = {
		which = "d_action_high_magic_mage_fire" value = 0
	}
    set_variable = {
		which = "d_action_high_magic_curse" value = 0
	}
}

magic_dmg_effect = {
	while = {
		limit = {
			event_target:magic_caster = {
				check_variable = {
					which = zdmg value = 1
				}
			}
		}
		event_target:magic_caster = {
			subtract_variable = {
				which = zdmg value = 1
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
				}
			}
			2 = {
				damage_unit = {
					amount = 10
				}
			}
			1 = {
				damage_unit = {
					amount = 15
				}
			}
			1 = {
				damage_unit = {
					amount = 20
				}
			}
			1 = {
				damage_unit = {
					amount = 25
				}
			}
		}
		if = {
			limit = {
				event_target:magic_caster = {
                    in_siege = yes
				}
			}
			random_list = {
				1 = {
				}
				4 = {
					troops = -0.005
				}
				2 = {
					troops = -0.01
				}
				1 = {
					troops = -0.015
				}
				1 = {
					troops = -0.02
				}
				1 = {
					troops = -0.025
				}
			}
		}
	}
}

magic_dmg_effect_metal = {
	while = {
		limit = {
			event_target:magic_caster = {
				check_variable = {
					which = zdmg value = 1
				}
			}
		}
		event_target:magic_caster = {
			subtract_variable = {
				which = zdmg value = 1
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
				}
			}
			2 = {
				damage_unit = {
					amount = 10
				}
			}
			1 = {
				damage_unit = {
					amount = 15
				}
			}
			1 = {
				damage_unit = {
					amount = 20
				}
			}
			1 = {
				damage_unit = {
					amount = 25
				}
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
					type = heavy_infantry
				}
			}
			2 = {
				damage_unit = {
					amount = 10
					type = heavy_infantry
				}
			}
			1 = {
				damage_unit = {
					amount = 15
					type = heavy_infantry
				}
			}
			1 = {
				damage_unit = {
					amount = 20
					type = heavy_infantry
				}
			}
			1 = {
				damage_unit = {
					amount = 25
					type = heavy_infantry
				}
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
					type = pikemen
				}
			}
			2 = {
				damage_unit = {
					amount = 10
					type = pikemen
				}
			}
			1 = {
				damage_unit = {
					amount = 15
					type = pikemen
				}
			}
			1 = {
				damage_unit = {
					amount = 20
					type = pikemen
				}
			}
			1 = {
				damage_unit = {
					amount = 25
					type = pikemen
				}
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
					type = knights
				}
			}
			2 = {
				damage_unit = {
					amount = 10
					type = knights
				}
			}
			1 = {
				damage_unit = {
					amount = 15
					type = knights
				}
			}
			1 = {
				damage_unit = {
					amount = 20
					type = knights
				}
			}
			1 = {
				damage_unit = {
					amount = 25
					type = knights
				}
			}
		}
		if = {
			limit = {
				event_target:magic_caster = {
                    in_siege = yes
				}
			}
			random_list = {
				1 = {
				}
				4 = {
					troops = -0.005
				}
				2 = {
					troops = -0.01
				}
				1 = {
					troops = -0.015
				}
				1 = {
					troops = -0.02
				}
				1 = {
					troops = -0.025
				}
			}
		}
	}
}

magic_dmg_effect_lightning = {
	while = {
		limit = {
			event_target:magic_caster = {
				check_variable = {
					which = zdmg value = 1
				}
			}
		}
		event_target:magic_caster = {
			subtract_variable = {
				which = zdmg value = 1
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
				}
			}
			2 = {
				damage_unit = {
					amount = 10
				}
			}
			1 = {
				damage_unit = {
					amount = 15
				}
			}
			1 = {
				damage_unit = {
					amount = 20
				}
			}
			1 = {
				damage_unit = {
					amount = 25
				}
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
					type = heavy_troops
				}
			}
			2 = {
				damage_unit = {
					amount = 10
					type = heavy_troops
				}
			}
			1 = {
				damage_unit = {
					amount = 15
					type = heavy_troops
				}
			}
			1 = {
				damage_unit = {
					amount = 20
					type = heavy_troops
				}
			}
			1 = {
				damage_unit = {
					amount = 25
					type = heavy_troops
				}
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
					type = special_troops
				}
			}
			2 = {
				damage_unit = {
					amount = 10
					type = special_troops
				}
			}
			1 = {
				damage_unit = {
					amount = 15
					type = special_troops
				}
			}
			1 = {
				damage_unit = {
					amount = 20
					type = special_troops
				}
			}
			1 = {
				damage_unit = {
					amount = 25
					type = special_troops
				}
			}
		}
		if = {
			limit = {
				event_target:magic_caster = {
                    in_siege = yes
				}
			}
			random_list = {
				1 = {
				}
				4 = {
					troops = -0.005
				}
				2 = {
					troops = -0.01
				}
				1 = {
					troops = -0.015
				}
				1 = {
					troops = -0.02
				}
				1 = {
					troops = -0.025
				}
			}
		}
	}
}

morale_dmg_effect = {
	while = {
		limit = {
			event_target:magic_caster = {
				check_variable = {
					which = zmoraledmg value = 1
				}
			}
		}
		event_target:magic_caster = {
			subtract_variable = {
				which = zmoraledmg value = 1
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit_morale = 0.01
			}
			2 = {
				damage_unit_morale = 0.02
			}
			1 = {
				damage_unit_morale = 0.03
			}
			1 = {
				damage_unit_morale = 0.04
			}
			1 = {
				damage_unit_morale = 0.06
			}
		}
		if = {
			limit = {
				event_target:magic_caster = {
                    in_siege = yes
				}
			}
			random_list = {
				1 = {
				}
				4 = {
					morale = -0.005
				}
				2 = {
					morale = -0.01
				}
				1 = {
					morale = -0.015
				}
				1 = {
					morale = -0.02
				}
				1 = {
					morale = -0.025
				}
			}
		}
	}
}

heal_effect = {
	while = {
		limit = {
			event_target:magic_caster = {
				check_variable = {
					which = zheal value = 1
				}
			}
		}
		event_target:magic_caster = {
			subtract_variable = {
				which = zheal value = 1
			}
		}
		random_list = {
			4 = {
				damage_unit = {
					amount = -5
				}
			}
			2 = {
				damage_unit = {
					amount = -10
				}
			}
			1 = {
				damage_unit = {
					amount = -15
				}
			}
			1 = {
				damage_unit = {
					amount = -20
				}
			}
			1 = {
				damage_unit = {
					amount = -25
				}
			}
		}
		#random_list = {
		#	1 = {
		#
		#	}
		#	4 = {
		#		troops = 0.005
		#	}
		#	2 = {
		#		troops = 0.01
		#	}
		#	1 = {
		#		troops = 0.015
		#	}
		#	1 = {
		#		troops = 0.02
		#	}
		#	1 = {
		#		troops = 0.025
		#	}
		#}
	}
}

morale_heal_effect = {
	while = {
		limit = {
			event_target:magic_caster = {
				check_variable = {
					which = zmoraleheal value = 1
				}
			}
		}
		event_target:magic_caster = {
			subtract_variable = {
				which = zmoraleheal value = 1
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit_morale = -0.01
			}
			2 = {
				damage_unit_morale = -0.02
			}
			1 = {
				damage_unit_morale = -0.03
			}
			1 = {
				damage_unit_morale = -0.04
			}
			1 = {
				damage_unit_morale = -0.06
			}
		}
	}
}

magic_physical_healing = {
	event_target:spelltarget = {
		if = {
			limit = {
				trait = wounded
			}
			random_list = {
				60 = {
					remove_trait = wounded
				}
				40 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = maimed
			}
			random_list = {
				50 = {
					remove_trait = maimed
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = incapable
			}
			random_list = {
				40 = {
					remove_trait = incapable
				}
				60 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = troubled_pregnancy
			}
			random_list = {
				40 = {
					remove_trait = troubled_pregnancy
				}
				60 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = hard_pregnancy
			}
			random_list = {
				50 = {
					remove_trait = hard_pregnancy
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = disfigured
			}
			random_list = {
				50 = {
					remove_trait = disfigured
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = severely_injured
			}
			random_list = {
				50 = {
					remove_trait = severely_injured
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = one_eyed
			}
			random_list = {
				15 = {
					remove_trait = one_eyed
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = one_handed
			}
			random_list = {
				5 = {
					remove_trait = one_handed
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = one_legged
			}
			random_list = {
				1 = {
					remove_trait = one_legged
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = mangled
			}
			random_list = {
				15 = {
					remove_trait = mangled
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = disfigured
			}
			random_list = {
				15 = {
					remove_trait = disfigured
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = cancer
			}
			random_list = {
				15 = {
					remove_trait = cancer
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
	}
}

magic_disease_healing = {
	event_target:spelltarget = {
		if = {
			limit = {
				trait = flu
			}
			random_list = {
				60 = {
					remove_trait = flu
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = dysentery
			}
			random_list = {
				60 = {
					remove_trait = dysentery
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = gout
			}
			random_list = {
				60 = {
					remove_trait = gout
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = food_poisoning
			}
			random_list = {
				60 = {
					remove_trait = food_poisoning
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = rabies
			}
			random_list = {
				50 = {
					remove_trait = rabies
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = cancer
			}
			random_list = {
				30 = {
					remove_trait = cancer
				}
				70 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = sick_incapable
			}
			random_list = {
				50 = {
					remove_trait = sick_incapable
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = dancing_plague
			}
			random_list = {
				15 = {
					remove_trait = dancing_plague
				}
				85 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = scurvy
			}
			random_list = {
				15 = {
					remove_trait = scurvy
				}
				85 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = lovers_pox
			}
			random_list = {
				50 = {
					remove_trait = lovers_pox
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = sickly
			}
			random_list = {
				15 = {
					remove_trait = sickly
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = ill
			}
			random_list = {
				45 = {
					remove_trait = ill
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = pneumonic
			}
			random_list = {
				50 = {
					remove_trait = pneumonic
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = syphilitic
			}
			random_list = {
				50 = {
					remove_trait = syphilitic
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = leper
			}
			random_list = {
				50 = {
					remove_trait = leper
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_tuberculosis
			}
			random_list = {
				50 = {
					remove_trait = has_tuberculosis
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_typhoid_fever
			}
			random_list = {
				50 = {
					remove_trait = has_typhoid_fever
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_typhus
			}
			random_list = {
				50 = {
					remove_trait = has_typhus
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_bubonic_plague
			}
			random_list = {
				50 = {
					remove_trait = has_bubonic_plague
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_measles
			}
			random_list = {
				50 = {
					remove_trait = has_measles
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_small_pox
			}
			random_list = {
				50 = {
					remove_trait = has_small_pox
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_creeping_buboes
			}
			random_list = {
				50 = {
					remove_trait = has_creeping_buboes
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_green_pox
			}
			random_list = {
				50 = {
					remove_trait = has_green_pox
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_red_pox
			}
			random_list = {
				50 = {
					remove_trait = has_red_pox
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_rattlelung
			}
			random_list = {
				50 = {
					remove_trait = has_rattlelung
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_tomb_rot
			}
			random_list = {
				50 = {
					remove_trait = has_tomb_rot
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_nurgles_rot
			}
			random_list = {
				50 = {
					remove_trait = has_nurgles_rot
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_bone_auge
			}
			random_list = {
				50 = {
					remove_trait = has_bone_auge
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
	}
}

magic_symptoms_healing = {
	event_target:spelltarget = {
		if = {
			limit = {
				trait = cough
			}
			random_list = {
				60 = {
					remove_trait = cough
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = fever
			}
			random_list = {
				50 = {
					remove_trait = fever
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = diarrhea
			}
			random_list = {
				40 = {
					remove_trait = diarrhea
				}
				60 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = vomiting
			}
			random_list = {
				40 = {
					remove_trait = vomiting
				}
				60 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = chest_pain
			}
			random_list = {
				50 = {
					remove_trait = chest_pain
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = cramps
			}
			random_list = {
				50 = {
					remove_trait = cramps
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = rash
			}
			random_list = {
				50 = {
					remove_trait = rash
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = headache
			}
			random_list = {
				45 = {
					remove_trait = headache
				}
				55 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = abdominal_pain
			}
			random_list = {
				50 = {
					remove_trait = abdominal_pain
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = fatigue
			}
			random_list = {
				75 = {
					remove_trait = fatigue
				}
				25 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = malaise
			}
			random_list = {
				50 = {
					remove_trait = malaise
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = infection
			}
			random_list = {
				35 = {
					remove_trait = infection
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = stressed
			}
			random_list = {
				50 = {
					remove_trait = stressed
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = depressed
			}
			random_list = {
				50 = {
					remove_trait = depressed
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
	}
}

magic_spiritual_healing = {
	event_target:spelltarget = {
		if = {
			limit = {
				trait = lunatic_1
			}
			random_list = {
				55 = {
					remove_trait = lunatic_1
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = lunatic_2
			}
			random_list = {
				45 = {
					remove_trait = lunatic_2
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = lunatic_3
			}
			random_list = {
				25 = {
					remove_trait = lunatic_3
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = lunatic
			}
			random_list = {
				60 = {
					remove_trait = lunatic
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = possessed
				NOT = {
					culture_group = daemonic_group
				}
				is_undead_trigger = no
			}
			random_list = {
				40 = {
					character_event = {
						id = schaos.79
					} #success
					modifier = {
						factor = 0.75
						PREV = {
							has_character_modifier = magic_power_3
						}
					}
					modifier = {
						factor = 0.50
						PREV = {
							has_character_modifier = magic_power_4
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = magic_potential_3
						}
					}
					modifier = {
						factor = 1.95
						event_target:magic_caster = {
							trait = magic_potential_4
						}
					}
					modifier = {
						factor = 1.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = brilliant
						}
					}
					modifier = {
						factor = 1.45
						event_target:magic_caster = {
							trait = smart
						}
					}
					modifier = {
						factor = 1.35
						event_target:magic_caster = {
							trait = quick
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = bright
						}
					}
					modifier = {
						factor = 0.95
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = dumb
						}
					}
					modifier = {
						factor = 0.5
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 0.45
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 0.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
				40 = {
					character_event = {
						id = schaos.80
					} #failure
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
				}
				20 = {
					character_event = {
						id = schaos.81
					} #deadly failure
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower" value = 33
							}
						}
					}
				}
			}
		}
	}
}

magic_monstrous = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			25 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 20
						}
					}
				}
				event_target:spelltarget = {
					character_event = {
						id = beasts_lore_non_battle.110
					}
				} #success
			}
			50 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

magic_toad = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			25 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 20
						}
					}
				}
				event_target:spelltarget = {
					character_event = {
						id = beasts_lore_non_battle.120
					}
				} #success
			}
			50 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

magic_pig = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			25 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 20
						}
					}
				}
				event_target:spelltarget = {
					character_event = {
						id = beasts_lore_non_battle.130
					}
				} #success
			}
			50 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

z_magic_purge = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			25 = {
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 1
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 20
						}
					}
				}
				death = {
					death_reason = z_light_purification_daemon killer = event_target:magic_caster
				}
			}
			75 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

z_magic_deathly_curse = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 1
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 20
						}
					}
				}
				death = {
					death_reason = z_light_purification_daemon killer = event_target:magic_caster
				}
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

z_magic_influence_positive = {
	magic_resist_test = yes
	character_event = {
		id = z_spell_menu.99998
	}
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 20
						}
					}
				}
				event_target:spelltarget = {
					opinion = {
						modifier = z_mental_whispers_positive who = event_target:spell_subject years = 5
					}
				} #success
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
	}
}

z_magic_influence_negative = {
	magic_resist_test = yes
	character_event = {
		id = z_spell_menu.99998
	}
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 20
						}
					}
				}
				event_target:spelltarget = {
					opinion = {
						modifier = z_mental_whispers_negative who = event_target:spell_subject years = 5
					}
				} #success
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
	}
}

z_clr_mind_influence_modifiers = {
	event_target:magic_caster = {
		clr_character_flag = positiveinfluence@ROOT
		clr_character_flag = negativeinfluence@ROOT
		clr_character_flag = mindcontrol@ROOT
		clr_character_flag = myperspective@ROOT
		clr_character_flag = theirperspective@ROOT
	}
}

z_influence_option = {
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = positiveinfluence@ROOT
			}
		}
		z_magic_influence_positive = yes
		z_clr_mind_influence_modifiers = yes
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = negativeinfluence@ROOT
			}
		}
		z_magic_influence_negative= yes
		z_clr_mind_influence_modifiers = yes
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = mindcontrol@ROOT
			}
		}
		z_clr_mind_influence_modifiers = yes
		character_event = {
			id = shadows_lore_non_battle.303
		}
	}
	z_clr_mind_influence_modifiers = yes
}

z_magic_prosperity_increase = {
	if = {
		limit = {
			has_province_modifier = prosperity_modifier_2
		}
		remove_province_modifier = prosperity_modifier_2
		add_province_modifier = {
			name = prosperity_modifier_3 duration = -1
		}
	}
	if = {
		limit = {
			has_province_modifier = prosperity_modifier_1
		}
		remove_province_modifier = prosperity_modifier_1
		add_province_modifier = {
			name = prosperity_modifier_2 duration = -1
		}
	}
	if = {
		limit = {
			not = {
				or ={
					has_province_modifier = prosperity_modifier_3
					has_province_modifier = prosperity_modifier_2
					has_province_modifier = prosperity_modifier_1
				}
			}
		}
		add_province_modifier = {
			name = prosperity_modifier_1 duration = -1
		}
	}
}

z_magic_prosperity_decrease = {
	if = {
		limit = {
			has_province_modifier = prosperity_modifier_1
		}
		remove_province_modifier = prosperity_modifier_1
	}
	if = {
		limit = {
			has_province_modifier = prosperity_modifier_2
		}
		remove_province_modifier = prosperity_modifier_2
		add_province_modifier = {
			name = prosperity_modifier_1 duration = -1
		}
	}
	if = {
		limit = {
			has_province_modifier = prosperity_modifier_3
		}
		remove_province_modifier = prosperity_modifier_3
		add_province_modifier = {
			name = prosperity_modifier_2 duration = -1
		}
	}
}

z_magic_random_demense_building_slot_increase = {
	random_demesne_province = {
		limit = {
			NOT = {
				num_of_max_settlements = 7
			}
		}
		add_holding_slot = 1
	}
}

z_magic_reveal_plots = {
	random_unknown_plotter = {
		limit = {
			has_plot = yes
			NOT = {
				ROOT = {
					any_known_plotter = {
						character = PREVPREV
					}
				}
			}
		}
		save_event_target_as = lore_heavens_reveal
		break = yes
	}
	random_child = {
		limit = {
			any_unknown_plotter = {
				has_plot = yes
				NOT = {
					ROOT = {
						any_known_plotter = {
							character = PREVPREV
						}
					}
				}
			}
		}
		random_unknown_plotter = {
			limit = {
				has_plot = yes
				NOT = {
					ROOT = {
						any_known_plotter = {
							character = PREVPREV
						}
					}
				}
			}
			save_event_target_as = lore_heavens_reveal
			break = yes
		}
	}
	random_spouse = {
		limit = {
			any_unknown_plotter = {
				has_plot = yes
				NOT = {
					ROOT = {
						any_known_plotter = {
							character = PREVPREV
						}
					}
				}
			}
		}
		random_unknown_plotter = {
			limit = {
				has_plot = yes
				NOT = {
					ROOT = {
						any_known_plotter = {
							character = PREVPREV
						}
					}
				}
			}
			save_event_target_as = lore_heavens_reveal
			break = yes
		}
	}
	random_sibling = {
		limit = {
			any_unknown_plotter = {
				has_plot = yes
				NOT = {
					ROOT = {
						any_known_plotter = {
							character = PREVPREV
						}
					}
				}
			}
		}
		random_unknown_plotter = {
			limit = {
				has_plot = yes
				NOT = {
					ROOT = {
						any_known_plotter = {
							character = PREVPREV
						}
					}
				}
			}
			save_event_target_as = lore_heavens_reveal
			break = yes
		}
	}
	random_child = {
		limit = {
			any_child = {
				any_unknown_plotter = {
					has_plot = yes
					NOT = {
						ROOT = {
							any_known_plotter = {
								character = PREVPREV
							}
						}
					}
				}
			}
		}
		random_child = {
			limit = {
				any_unknown_plotter = {
					has_plot = yes
					NOT = {
						ROOT = {
							any_known_plotter = {
								character = PREVPREV
							}
						}
					}
				}
			}
			random_unknown_plotter = {
				limit = {
					has_plot = yes
					NOT = {
						ROOT = {
							any_known_plotter = {
								character = PREVPREV
							}
						}
					}
				}
				save_event_target_as = lore_heavens_reveal
				break = yes
			}
		}
	}
}

z_magic_dispel_undead = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 1
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 20
						}
					}
				}
				event_target:spelltarget = {
					disband_event_forces = summoned_zombiehorde_1
					disband_event_forces = summoned_zombiehorde_2
					disband_event_forces = summoned_zombiehorde_3
					disband_event_forces = summoned_zombiehorde_4
					disband_event_forces = summoned_zombiehorde_5
					disband_event_forces = summoned_zombiehorde_6
					disband_event_forces = summoned_zombiehorde_7
					disband_event_forces = summoned_zombiehorde_8
					disband_event_forces = summoned_zombiehorde_9
					disband_event_forces = summoned_zombiehorde_10
				}
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

z_magic_lore_curse = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 1
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 20
						}
					}
				}
				add_trait = infirm
				add_character_modifier = {
					name = z_death_lore_curse duration = 120 stacking = yes
				}
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

z_magic_enchant = {
	magic_resist_test = yes
	character_event = {
		id = z_spell_menu.99998
	}
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 20
						}
					}
				}
				event_target:spelltarget = {
					opinion = {
						modifier = z_spell_enchantment who = event_target:spell_subject years = 15
					}
				} #success
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
	}
}

z_magic_enslave = {
	magic_resist_test = yes
	character_event = {
		id = z_spell_menu.99998
	}
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower" value = 20
						}
					}
				}
				event_target:spelltarget = {
					opinion = {
						modifier = z_spell_ensalve who = event_target:spell_subject years = 15
					}
				} #success
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
	}
}

magic_item_generation = {
	random_list = {
		5 = {
			add_artifact = mages_ring_1
		}
		4 = {
			add_artifact = mages_ring_2
		}
		5 = {
			add_artifact = mages_amulet_1
		}
		4 = {
			add_artifact = mages_amulet_2
		}
		5 = {
			add_artifact = mages_staff_1
		}
		4 = {
			add_artifact = mages_staff_2
		}
		5 = {
			add_artifact = sword_1
		}
		5 = {
			add_artifact = sword_2
		}
		5 = {
			add_artifact = sword_3
		}
		5 = {
			add_artifact = sword_4
		}
		4 = {
			add_artifact = sword_5
		}
		5 = {
			add_artifact = ring_of_persuasion
		}
		5 = {
			add_artifact = ring_of_invisibility
		}
		5 = {
			add_artifact = ring_of_command
		}
		5 = {
			add_artifact = ring_of_speed
		}
		5 = {
			add_artifact = amulet_of_protection_1
		}
		5 = {
			add_artifact = amulet_of_protection_3
		}
		4 = {
			add_artifact = amulet_of_protection_5
		}
		5 = {
			add_artifact = potion_of_beauty
		}
		5 = {
			add_artifact = potion_of_healing
		}
		5 = {
			random_list = {
				20 = {
					add_artifact = mages_staff_3
				}
				20 = {
					add_artifact = mages_tome
				}
				20 = {
					add_artifact = mages_crown
				}
				20 = {
					add_artifact = mages_ring_3
				}
				20 = {
					add_artifact = mages_amulet_3
				}
			}
		}
	}
}

random_lore = {
	random_list = {
		10 = {
			add_trait = lore_fire
		}
		10 = {
			add_trait = lore_heavens
		}
		10 = {
			add_trait = lore_metal
		}
		10 = {
			add_trait = lore_beasts
		}
		10 = {
			add_trait = lore_death
		}
		10 = {
			add_trait = lore_life
		}
		15 = {
			add_trait = lore_shadows
		}
		15 = {
			add_trait = lore_light
		}
	}
}

random_magic_power = {
	random_list = {
		50 = {
			add_character_modifier = {
				modifier = magic_power_1 days = -1
			}
		}
		30 = {
			add_character_modifier = {
				modifier = magic_power_2 days = -1
			}
		}
		15 = {
			add_character_modifier = {
				modifier = magic_power_3 days = -1
			}
		}
		5 = {
			add_character_modifier = {
				modifier = magic_power_4 days = -1
			}
		}
	}
}

spawn_wizard = {
	create_character = {
		random_traits = no
		name = random
		dynasty = random
		religion = ROOT
		culture = ROOT
		female = no
		age = 40
		attributes = {
			martial = 6
			diplomacy = 8
			stewardship = 9
			intrigue = 12
			learning = 12
		}
		health = 6
		fertility = 0.8
		trait = hedge_wizard
		trait = scholar
		trait = chaste
		trait = temperate
	}
}

z_magic_power_sequential_addition = {
	z_magic_xp_turnon = yes
	if = {
		limit = {
			calc_true_if  = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_2
				has_character_modifier = magic_power_1
				amount = 2
			}
		}
		z_magic_power_complete_removal = yes
		z_magic_power_sequential_addition = yes
	}
	if = {
		limit = {
			has_character_modifier = magic_power_3
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_2
				has_character_modifier = magic_power_1
			}
		}
		remove_character_modifier = magic_power_3
		add_character_modifier = {
			name = magic_power_4 duration = -1
		}
		if = {
			limit = {
				not = {
					check_variable = {
						which = "magicxp" value = 300
					}
				}
			}
			set_variable = {
				which = "magicxp" value = 300
			}
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_2
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_1
			}
		}
		remove_character_modifier = magic_power_2
		add_character_modifier = {
			name = magic_power_3 duration = -1
		}
		if = {
			limit = {
				not = {
					check_variable = {
						which = "magicxp" value = 100
					}
				}
			}
			set_variable = {
				which = "magicxp" value = 100
			}
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_1
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_2
			}
		}
		remove_character_modifier = magic_power_1
		add_character_modifier = {
			name = magic_power_2 duration = -1
		}
		if = {
			limit = {
				not = {
					check_variable = {
						which = "magicxp" value = 50
					}
				}
			}
			set_variable = {
				which = "magicxp" value = 50
			}
		}
	}
	if = {
		limit = {
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_2
				has_character_modifier = magic_power_1
			}
		}
		add_character_modifier = {
			name = magic_power_1 duration = -1
		}
		if = {
			limit = {
				not = {
					check_variable = {
						which = "magicxp" value = 25
					}
				}
			}
			set_variable = {
				which = "magicxp" value = 25
			}
		}
	}
}

z_magic_power_sequential_subtraction = {
	z_magic_xp_turnon = yes
	if = {
		limit = {
			calc_true_if  = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_2
				has_character_modifier = magic_power_1
				amount = 2
			}
		}
		z_magic_power_complete_removal = yes
	}
	if = {
		limit = {
			has_character_modifier = magic_power_1
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_2
			}
		}
		remove_character_modifier = magic_power_1
		set_variable = {
			which = "magicxp" value = 15
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_2
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_1
			}
		}
		remove_character_modifier = magic_power_2
		add_character_modifier = {
			name = magic_power_1 duration = -1
		}
		set_variable = {
			which = "magicxp" value = 40
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_3
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_1
			}
		}
		remove_character_modifier = magic_power_3
		add_character_modifier = {
			name = magic_power_2 duration = -1
		}
		set_variable = {
			which = "magicxp" value = 90
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_4
			nor = {
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_2
				has_character_modifier = magic_power_1
			}
		}
		remove_character_modifier = magic_power_4
		add_character_modifier = {
			name = magic_power_3 duration = -1
		}
		set_variable = {
			which = "magicxp" value = 200
		}
	}
}

z_magic_power_complete_removal = {
	remove_character_modifier = magic_power_1
	remove_character_modifier = magic_power_2
	remove_character_modifier = magic_power_3
	remove_character_modifier = magic_power_4
}

z_magic_xp_turnon = {
	if = {
		limit = {
			z_has_magic_power_true = yes
			not = {
				has_character_flag = magicxp
				trait = vampire_jade_visible
			}
		}
		if = {
			limit = {
				has_character_modifier = magic_power_1
			}
			set_variable = {
				which = "magicxp" value = 25
			}
			set_character_flag = magicxp
		}
		if = {
			limit = {
				has_character_modifier = magic_power_2
			}
			set_variable = {
				which = "magicxp" value = 50
			}
			set_character_flag = magicxp
		}
		if = {
			limit = {
				has_character_modifier = magic_power_3
			}
			set_variable = {
				which = "magicxp" value = 100
			}
			set_character_flag = magicxp
		}
		if = {
			limit = {
				has_character_modifier = magic_power_4
			}
			set_variable = {
				which = "magicxp" value = 300
			}
			set_character_flag = magicxp
		}
	}
}

Z_magic_power_calculation = {
	if = {
		limit = {
			check_variable = {
				which = "magicxp" value = 300
			}
		}
		z_magic_power_complete_removal = yes
		add_character_modifier = {
			name = magic_power_4 duration = -1
		}
	}
	if = {
		limit = {
			check_variable = {
				which = "magicxp" value = 100
			}
			not = {
				check_variable = {
					which = "magicxp" value = 299
				}
			}
		}
		z_magic_power_complete_removal = yes
		add_character_modifier = {
			name = magic_power_3 duration = -1
		}
	}
	if = {
		limit = {
			check_variable = {
				which = "magicxp" value = 50
			}
			not = {
				check_variable = {
					which = "magicxp" value = 99
				}
			}
		}
		z_magic_power_complete_removal = yes
		add_character_modifier = {
			name = magic_power_2 duration = -1
		}
	}
	if = {
		limit = {
			not = {
				check_variable = {
					which = "magicxp" value = 49
				}
			}
		}
		z_magic_power_complete_removal = yes
		add_character_modifier = {
			name = magic_power_1 duration = -1
		}
	}
}

z_magic_power_random = {
	z_magic_power_complete_removal = yes
	random_list = {
		8 = {
			add_character_modifier = {
				name = magic_power_1 duration = -1
			}
			set_variable = {
				which = "magicxp" value = 25
			}
		}
		4 = {
			add_character_modifier = {
				name = magic_power_2 duration = -1
			}
			set_variable = {
				which = "magicxp" value = 50
			}
		}
		2 = {
			add_character_modifier = {
				name = magic_power_3 duration = -1
			}
			set_variable = {
				which = "magicxp" value = 100
			}
		}
		1 = {
			add_character_modifier = {
				name = magic_power_4 duration = -1
			}
			set_variable = {
				which = "magicxp" value = 300
			}
		}
	}
	z_magic_xp_turnon = yes
}

magic_resist_test = {
	random_list = {
		40 = {
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 1
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 2
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 3
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 4
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 5
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 6
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 7
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 8
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 9
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 10
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 11
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 12
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 13
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 14
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 15
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 16
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 17
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 18
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 19
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 20
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 21
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 22
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 23
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 24
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 25
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 26
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 27
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 28
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 29
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance" value = 30
					}
				}
			}
			ROOT = {
				event_target:magic_caster = {
					set_character_flag = resisted
				}
			}
		}
		60 = {
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 1
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 2
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 3
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 4
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 5
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 6
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 7
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 8
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 9
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 10
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 11
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 12
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 13
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 14
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 15
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 16
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 17
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 18
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 19
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 20
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 21
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 22
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 23
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 24
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 25
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 26
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 27
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 28
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 29
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration" value = 30
					}
				}
			}
			event_target:magic_caster = {
				change_variable = {
					which = "magicxp" value = 1
				}
			}
		}
	}
}

magic_targeting_setup = {
}

magic_points_setup = {
	set_variable = {
		which = "spell_power_mod" value = 0
	}
	set_variable = {
		which = "spell_power" value = 0
	}
	set_variable = {
		which = "caster_level" value = 0
	}
	set_variable = {
		which = "caster_level_dispel" value = 0
	}
	set_variable = {
		which = "caster_level_miscast" value = 0
	}
	set_variable = {
		which = "caster_level_spellpower" value = 0
	}
	set_variable = {
		which = "warpcrack" value = 0
	}
	set_variable = {
		which = "magical_resistance" value = 0
	}
	set_variable = {
		which = "magical_penetration" value = 0
	}
	set_variable = {
		which = "magical_mod" value = 0
	}
	export_to_variable = {
   		which = magical_resistance
   		value = learning
	}
	export_to_variable = {
   		which = magical_penetration
   		value = learning
	}
	export_to_variable = {
   		which = magical_mod
   		value = learning
	}
   	divide_variable = {
		which = "magical_mod" value = 10
	}
   	if = {
   		limit = {
	   		not = {
	   			check_variable = {
					which = "magical_mod" value = 0
				}

			}
		}
   		set_variable = {
			which = "magical_mod" value = 0
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_1
		}
		set_variable = {
			which = "caster_level" value = 1
		}
	}
	if = {
		limit = {
			has_character_modifier =  magic_power_2
		}
		set_variable = {
			which = "caster_level" value = 2
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_3
		}
		set_variable = {
			which = "caster_level" value = 3
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_4
		}
		set_variable = {
			which = "caster_level" value = 4
		}
	}
	if = {
		limit = {
			has_character_modifier = warp_stone_1
		}
		set_variable = {
			which = "warpcrack" value = 1
		}
		remove_character_modifier = warp_stone_1
	}
	if = {
		limit = {
			has_character_modifier = warp_stone_2
		}
		set_variable = {
			which = "warpcrack" value = 2
		}
		remove_character_modifier = warp_stone_2
	}
	if = {
		limit = {
			has_character_modifier = warp_stone_3
		}
		set_variable = {
			which = "warpcrack" value = 3
		}
		remove_character_modifier = warp_stone_3
	}
	if = {
		limit = {
			has_character_modifier = warp_stone_4
		}
		set_variable = {
			which = "warpcrack" value = 4
		}
		remove_character_modifier = warp_stone_4
	}
	if = {
		limit = {
			has_character_modifier = warp_stone_5
		}
		set_variable = {
			which = "warpcrack" value = 5
		}
		remove_character_modifier = warp_stone_5
	}
	if = {
		limit = {
			has_artifact = mages_crown
		}
		change_variable = {
			which = "caster_level" value = 1
		}
	}
	if = {
		limit = {
			has_character_modifier = z_liege_boost_1
		}
		change_variable = {
			which = "caster_level" value = 1
		}
		remove_character_modifier = z_liege_boost_1
	}
	if = {
		limit = {
			has_character_modifier = z_liege_boost_2
		}
		change_variable = {
			which = "caster_level" value = 2
		}
		remove_character_modifier = z_liege_boost_2
	}
	if = {
		limit = {
			has_character_modifier = z_liege_boost_3
		}
		change_variable = {
			which = "caster_level" value = 3
		}
		remove_character_modifier = z_liege_boost_3
	}
	if = {
		limit = {
			trait = creature_slann
		}
		change_variable = {
			which = "caster_level" value = 1
		}
	}
	if = {
		limit = {
			or = {
				trait = creature_slann
				trait = skink_priest
			}
			has_artifact = stegadon_mount
		}
		change_variable = {
			which = "caster_level" value = 1
		}
	}
	if = {
		limit = {
			trait = creature_slann
		}
		change_variable = {
			which = "caster_level" value = 1
		}
	}
	set_variable = {
		which = "spell_power_mod" which = "caster_level"
	}
	set_variable = {
		which = "caster_level_dispel" which = "caster_level"
	}
	set_variable = {
		which = "caster_level_miscast" which = "caster_level"
	}
	set_variable = {
		which = "caster_level_spellpower" which = "caster_level"
	}
	change_variable = {
		which = "magical_resistance" which = "caster_level"
	}
	change_variable = {
		which = "magical_penetration" which = "caster_level"
	}
	multiply_variable = {
		which = "spell_power_mod" value = "2"
	}
	multiply_variable = {
		which = "caster_level_dispel" value = "2"
	}
	multiply_variable = {
		which = "caster_level_miscast" value = "2"
	}
	multiply_variable = {
		which = "caster_level_spellpower" value = "2"
	}
	multiply_variable = {
		which = "magical_resistance" value = "2"
	}
	multiply_variable = {
		which = "magical_penetration" value = "2"
	}
	if = {
		limit = {
			trait = warlock_engineer
		}
		set_variable = {
			which = "caster_level" value = 1
		}
		set_variable = {
			which = "caster_level_miscast" value = 1
		}
		set_variable = {
			which = "caster_level_dispel" value = 1
		}
		set_variable = {
			which = "caster_level_spellpower" value = 1
		}
	}
	change_variable = {
		which = "caster_level_spellpower" which = "magical_mod"
	}
	change_variable = {
		which = "caster_level_miscast" which = "magical_mod"
	}
	change_variable = {
		which = "caster_level_dispel" which = "magical_mod"
	}
	if = {
		limit = {
			has_artifact = mages_staff_1
		}
		change_variable = {
			which = "spell_power_mod" value = 1
		}
	}
	if = {
		limit = {
			has_artifact = mages_staff_2
		}
		change_variable = {
			which = "spell_power_mod" value = 2
		}
	}
	if = {
		limit = {
			has_artifact = mages_staff_3
		}
		change_variable = {
			which = "spell_power_mod" value = 3
		}
	}
	if = {
		limit = {
			has_artifact = mages_amulet_1
		}
		change_variable = {
			which = "caster_level_miscast" value = 1
		}
	}
	if = {
		limit = {
			has_artifact = mages_amulet_2
		}
		change_variable = {
			which = "caster_level_miscast" value = 2
		}
	}
	if = {
		limit = {
			has_artifact = mages_amulet_3
		}
		change_variable = {
			which = "caster_level_miscast" value = 3
		}
	}
	if = {
		limit = {
			has_artifact = mages_ring_1
		}
		change_variable = {
			which = "caster_level_dispel" value = 1
		}
	}
	if = {
		limit = {
			has_artifact = mages_ring_2
		}
		change_variable = {
			which = "caster_level_dispel" value = 2
		}
	}
	if = {
		limit = {
			has_artifact = mages_ring_3
		}
		change_variable = {
			which = "caster_level_dispel" value = 3
		}
	}
	change_variable = {
		which = "spell_power_mod" which = "warpcrack"
	}
	if = {
		limit = {
			trait = loremaster
		}
		change_variable = {
			which = "spell_power_mod" value = 8
		}
		change_variable = {
			which = "caster_level_dispel" value = 1
		}
		change_variable = {
			which = "caster_level_miscast" value = 1
		}
	}
	if = {
		limit = {
			or = {
				trait = avatar_isha
				trait = avatar_kurnous
				trait = everqueen
				trait = malekith
			}
		}
		change_variable = {
			which = "magical_resistance" value = 30
		}
	}
	if = {
		limit = {
			trait = creature_slann
		}
		change_variable = {
			which = "magical_resistance" value = 30
		}
		change_variable = {
			which = "caster_level_dispel" value = 2
		}
		change_variable = {
			which = "caster_level_miscast" value = 2
		}
	}
	if = {
		limit = {
			or = {
				culture_group = dwarf_group
				culture_group = dwarf_chaos_group
			}
		}
		change_variable = {
			which = "magical_resistance" value = 10
		}
	}
	if = {
		limit = {
			trait = hedge_wizard
		}
		change_variable = {
			which = "magical_resistance" value = -5
		}
	}
	if = {
		limit = {
			has_character_modifier = z_light_magic_wards_of_light
		}
		change_variable = {
			which = "caster_level_dispel" value = 9
		}
	}
	if = {
		limit = {
			not = {
				check_variable = {
					which = "spell_power_mod" value = 0
				}
			}
		}
		set_variable = {
			which = "spell_power_mod" value = 0
		}
	}
	if = {
		limit = {
			not = {
				check_variable = {
					which = "magical_resistance" value = 0
				}
			}
		}
		set_variable = {
			which = "magical_resistance" value = 0
		}
	}
	random_list = {
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 1
				}
			}
			change_variable = {
				which = "spell_power" value = 1
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 2
				}
			}
			change_variable = {
				which = "spell_power" value = 2
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 3
				}
			}
			change_variable = {
				which = "spell_power" value = 3
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 4
				}
			}
			change_variable = {
				which = "spell_power" value = 4
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 5
				}
			}
			change_variable = {
				which = "spell_power" value = 5
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 20
				}
			}
			change_variable = {
				which = "spell_power" value = 6
			}
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_drain_1
		}
		change_variable = {
			which = "spell_power" value = -1
		}
		change_variable = {
			which = "magical_resistance" value = -1
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_drain_2
		}
		change_variable = {
			which = "spell_power" value = -3
		}
		change_variable = {
			which = "magical_resistance" value = -2
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_drain_3
		}
		change_variable = {
			which = "spell_power" value = -5
		}
		change_variable = {
			which = "magical_resistance" value = -3
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_drain_4
		}
		set_variable = {
			which = "spell_power" value = 0
		}
		set_variable = {
			which = "magical_resistance" value = 0
		}
	}
}

magic_xp_counter = {
	if = {
		limit = {
			z_has_magic_power_true = yes
			not = {
				has_character_flag = magicxp
			}
		}
		z_magic_xp_turnon = yes
		set_variable = {
			which = "magicxp" value = 0
		}
	}
	random_list = {
		1 = {
			change_variable = {
				which = "magicxp" value = 1
			}
		}
		1 = {
			change_variable = {
				which = "magicxp" value = 2
			}
		}
		1 = {
			change_variable = {
				which = "magicxp" value = 3
			}
		}
		1 = {
			change_variable = {
				which = "magicxp" value = 4
			}
		}
		1 = {
			change_variable = {
				which = "magicxp" value = 5
			}
		}
	}
}

magic_spells_known = {
	set_variable = {
		which = "spellknownlvl" value = 0
	}
	change_variable = {
		which = "spellknownlvl" which = "caster_level"
	}
	change_variable = {
		which = "spellknownlvl" which = "warpcrack"
	}
}

magic_item_proc = {
	if = {
		limit = {
			check_variable = {
				which = "warpcrack" value = 1
			}
		}
		change_variable = {
			which = "warpcrack" value = -1
		}
	}
	if = {
		limit = {
			has_artifact = mages_tome
		}
		random = {
			chance = 25
			random_list = {
				5 = {
					change_variable = {
						which = "spell_power" value = 1
					}
				}
				1 = {
					change_variable = {
						which = "spell_power" value = 2
					}
				}
			}
		}
	}
}

channeling = {
	random_list = {
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 1
				}
			}
			change_variable = {
				which = "spell_power" value = 1
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 2
				}
			}
			change_variable = {
				which = "spell_power" value = 2
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 3
				}
			}
			change_variable = {
				which = "spell_power" value = 3
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 4
				}
			}
			change_variable = {
				which = "spell_power" value = 4
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 5
				}
			}
			change_variable = {
				which = "spell_power" value = 5
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod" value = 20
				}
			}
			change_variable = {
				which = "spell_power" value = 6
			}
		}
	}
}

z_spell_process	= {
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = dispeled
			}
		}
		event_target:magic_caster = {
			clr_character_flag = dispeled
		}
		character_event = {
			id = z_spell_menu.99999
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = miscast
			}
		}
		character_event = {
			id = magic_system.99991
		}#If has the miscast flag, skip to the miscast event table
	}
}

z_spell_process_non_combat = {
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = dispeled
			}
		}
		event_target:magic_caster = {
			clr_character_flag = dispeled
		}
		character_event = {
			id = z_spell_menu.99996
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = miscast
			}
		}
		character_event = {
			id = magic_system.99991
		}#If has the miscast flag, skip to the miscast event table
	}
}

z_dispell_case = {
	if = {
		limit = {
			is_variable_equal = {
				which = "dispell" value = "1"
			}
		}
		dispel_saving_roll_30 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "dispell" value  = "2"
			}
		}
		dispel_saving_roll_40 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "dispell" value = "3"
			}
		}
		dispel_saving_roll_50 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "dispell"  value = "4"
			}
		}
		dispel_saving_roll_60 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "dispell" value = "5"
			}
		}
		dispel_saving_roll_70 = yes
	}
}

z_miscast_case = {
	if = {
		limit = {
			not = {
				check_variable = {
					which = "miscast" value = "2"
				}
			}
		}
		miscast_test_1 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast" value = "2"
			}
		}
		miscast_test_2 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast" value = "3"
			}
		}
		miscast_test_3 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast" value = "4"
			}
		}
		miscast_test_4 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast" value = "5"
			}
		}
		miscast_test_5 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast" value = "6"
			}
		}
		miscast_test_6 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast"  value = "7"
			}
		}
		miscast_test_7 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast" value = "8"
			}
		}
		miscast_test_8 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast" value = "9"
			}
		}
		miscast_test_9 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast" value = "10"
			}
		}
		miscast_test_10 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast" value = "11"
			}
		}
		miscast_test_11 = yes
	}
	if = {
		limit = {
			check_variable = {
				which = "miscast" value = "12"
			}
		}
		miscast_test_12 = yes
	}
}

miscast_test_1 = {
	random_list = {
		95 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 20
				}
			}
		}
		5 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_2 = {
	random_list = {
		90 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 20
				}
			}
		}
		10 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_3 = {
	random_list = {
		85 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 20
				}
			}
		}
		15 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_4 = {
	random_list = {
		80 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 20
				}
			}
		}
		20 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_5 = {
	random_list = {
		75 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 20
				}
			}
		}
		25 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_6 = {
	random_list = {
		70 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 20
				}
			}
		}
		30 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_7 = {
	random_list = {
		65 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 20
				}
			}
		}
		35 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_8 = {
	random_list = {
		60 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 20
				}
			}
		}
		40 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_9 = {
	random_list = {
		55 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 20
				}
			}
		}
		45 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_10 = {
	random_list = {
		50 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 20
				}
			}
		}
		50 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_11 = {
	random_list = {
		45 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 20
				}
			}
		}
		55 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_12 = {
	random_list = {
		40 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast" value = 20
				}
			}
		}
		60 = {
			set_character_flag = miscast
		}
	}
}
