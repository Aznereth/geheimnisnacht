z_geomancy_ok = { 
	holder = { 
		culture_group = lizardman_group
	}
}
z_geomancy_not = { 
	holder = { 
		not = { 
			culture_group = lizardman_group
		}
	}
}
z_lizard_priest = {
	OR = {
		trait = creature_slann
		trait = skink_priest
	}
}

z_magic_non_combat_caster = { 
	or = {  
		trait = lore_high_magic
		trait = lore_beasts
		trait = lore_heavens
		#trait = lore_fire
		#trait = lore_metal
		#trait = lore_light
		#trait = lore_shadows
		#trait = lore_life
		#trait = lore_death
	}

}
z_magic_non_combat_valid_caster = { 
	NOR = {
		has_character_modifier = magic_cooldown
		has_character_flag = casting
	} 
	NOR = { 
		trait = incapable
		trait = resting
		trait = incapacitated
	}	
	or = {  
		trait = lore_high_magic
		trait = lore_beasts
		trait = lore_heavens
		#trait = lore_fire
		#trait = lore_metal
		#trait = lore_light
		#trait = lore_shadows
		#trait = lore_life
		#trait = lore_death
	}
	z_has_magic_power_true = yes

}
z_combat_magic_caster = { 
	OR = {
		trait = chaos_dwarf_sorcerer		
		trait = khemri_liche_priest	
		trait = warlock_engineer 
		trait = lore_vermin
		trait = lore_dark_magic
		trait = lore_necromancy	
		trait = lore_beasts
		trait = lore_heavens
		trait = lore_fire 
		trait = lore_metal
		trait = lore_light
		trait = lore_shadows
		trait = lore_life
		trait = lore_death
		trait = lore_high_magic
		trait = lore_nurgle
		trait = lore_slaanesh
		trait = lore_tzeentch
		trait = lore_ice
		trait = lore_waaagh
	}	

}



z_combat_magic_valid_caster = { 
	NOR = {
		has_character_modifier = magic_cooldown
		has_character_flag = casting

	} 
	NOR = { 
		trait = incapable
		trait = resting
		trait = incapacitated
	}
	OR = {
		trait = chaos_dwarf_sorcerer		
		trait = khemri_liche_priest	
		trait = warlock_engineer 
		trait = lore_vermin
		trait = lore_dark_magic
		trait = lore_necromancy	
		trait = lore_beasts
		trait = lore_heavens
		trait = lore_fire 
		trait = lore_metal
		trait = lore_light
		trait = lore_shadows
		trait = lore_life
		trait = lore_death
		trait = lore_high_magic
		trait = lore_nurgle
		trait = lore_slaanesh
		trait = lore_tzeentch
		trait = lore_ice
		trait = lore_waaagh
	}
	z_has_magic_power_true = yes

}


z_is_loremaster = { 
	or = {  
		trait = lore_high_magic
		trait = lore_beasts
		trait = lore_heavens
		trait = lore_fire
		trait = lore_metal
		trait = lore_light
		trait = lore_shadows
		trait = lore_life
		trait = lore_death
	}
}


z_magic_dueling_valid_caster = { 
	NOR = {
		has_character_modifier = magic_cooldown
		has_character_flag = casting
	} 
	NOR = { 
		trait = incapable
		trait = resting
		trait = incapacitated
	}	
	or = {  
		trait = lore_high_magic
		#trait = lore_beasts
		#trait = lore_heavens
		#trait = lore_fire
		#trait = lore_metal
		#trait = lore_light
		#trait = lore_shadows
		#trait = lore_life
		#trait = lore_death
	}

}
z_dueling_caster = { 
	OR = {
		#trait = chaos_dwarf_sorcerer		
		#trait = khemri_liche_priest	
		#trait = grey_seer
		#trait = warlock_engineer 
		#trait = plaguelord
		#trait = lore_dark_magic
		#trait = lore_necromancy	
		#trait = lore_beasts
		#trait = lore_heavens
		#trait = lore_fire 
		#trait = lore_metal
		#trait = lore_light
		#trait = lore_shadows
		#trait = lore_life
		#trait = lore_death
		trait = lore_high_magic
		#trait = lore_nurgle
		#trait = lore_slaanesh
		#trait = lore_tzeentch
		#trait = lore_ice
		#trait = lore_waaagh
	}	

}

z_valid_channeller = { 
	OR = {
		trait = chaos_dwarf_sorcerer		
		trait = khemri_liche_priest	
		#trait = warlock_engineer 
		trait = lore_vermin
		trait = lore_dark_magic
		trait = lore_necromancy	
		trait = lore_beasts
		trait = lore_heavens
		trait = lore_fire 
		trait = lore_metal
		trait = lore_light
		trait = lore_shadows
		trait = lore_life
		trait = lore_death
		trait = lore_high_magic
		trait = lore_nurgle
		trait = lore_slaanesh
		trait = lore_tzeentch
		trait = lore_ice
		trait = lore_waaagh
	}	

}

z_spell_plot_shield = { 
	OR = {
		has_character_modifier = z_foresight_blessing_plot
		has_character_modifier = z_divination_plot_block
	}
}
z_spell_plot_success = { 
	has_character_modifier = z_divination_plot_success
}
z_spell_plot_curse = { 
	has_character_modifier = z_foresight_curse_plot
}

z_spell_duel_shield = {
	has_character_modifier = z_foresight_blessing_plot
}

z_spell_duel_curse = { 
	has_character_modifier = z_foresight_curse_battle
}

z_plot_fail = { 
	OR = {
		has_character_modifier = z_foresight_blessing_plot
		has_character_modifier = z_divination_plot_block
	}

}

z_plot_succeed = {
	OR = {
		AND = {  
			FROMFROM = { 
				has_character_modifier = z_divination_plot_success
			}
			NOT = { 
				OR = {
					has_character_modifier = z_foresight_blessing_plot
					has_character_modifier = z_divination_plot_block
				}
			}
		}
		has_character_modifier = z_foresight_curse_plot
	}
}

z_has_magic_power_true = { 
	or = { 
		has_character_modifier = magic_power_4
		has_character_modifier = magic_power_3
		has_character_modifier = magic_power_2
		has_character_modifier = magic_power_1
		and = { 
			trait = warlock_engineer 
			or = { 
				has_character_modifier = warp_stone
				has_character_modifier = warp_stone_1
				has_character_modifier = warp_stone_2
				has_character_modifier = warp_stone_3
				has_character_modifier = warp_stone_4
				has_character_modifier = warp_stone_5
			}
		}
	}
}

z_lore_of_heavens_caster = {
	OR = { 
		trait = lore_heavens
		has_artifact = mages_tome_heavens
	}
}

z_lore_of_beasts_caster = {
	OR =  {
		trait = lore_beasts
		has_artifact = mages_tome_beasts
	}
}

z_lore_of_fire_caster = {
	OR = {
		trait = lore_fire
		has_artifact = mages_tome_fire
	}
}

z_lore_of_metal_caster = {
	OR = {
		trait = lore_metal
		has_artifact = mages_tome_metal
	}
}

z_lore_of_light_caster = {
	OR = {
		trait = lore_light
		has_artifact = mages_tome_light
	}
}

z_lore_of_shadows_caster = {
	OR = {	
		trait = lore_shadows
		has_artifact = mages_tome_shadows
	}
}

z_lore_of_life_caster = {
	OR = {
		trait = lore_life
		has_artifact = mages_tome_life
	}
}

z_lore_of_death_caster = {
	OR = {
		trait = lore_death
		has_artifact = mages_tome_death
	}
}
